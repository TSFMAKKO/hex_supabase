(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Gn(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const le={},fs=[],ot=()=>{},Xo=()=>!1,Mr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Qn=t=>t.startsWith("onUpdate:"),Ce=Object.assign,Yn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Dl=Object.prototype.hasOwnProperty,ne=(t,e)=>Dl.call(t,e),V=Array.isArray,ps=t=>sr(t)==="[object Map]",Fr=t=>sr(t)==="[object Set]",ki=t=>sr(t)==="[object Date]",z=t=>typeof t=="function",me=t=>typeof t=="string",lt=t=>typeof t=="symbol",ce=t=>t!==null&&typeof t=="object",Zo=t=>(ce(t)||z(t))&&z(t.then)&&z(t.catch),ea=Object.prototype.toString,sr=t=>ea.call(t),Ll=t=>sr(t).slice(8,-1),ta=t=>sr(t)==="[object Object]",Xn=t=>me(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,$s=Gn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Br=t=>{const e=Object.create(null);return(s=>e[s]||(e[s]=t(s)))},Ml=/-\w/g,We=Br(t=>t.replace(Ml,e=>e.slice(1).toUpperCase())),Fl=/\B([A-Z])/g,Kt=Br(t=>t.replace(Fl,"-$1").toLowerCase()),qr=Br(t=>t.charAt(0).toUpperCase()+t.slice(1)),sn=Br(t=>t?`on${qr(t)}`:""),Rt=(t,e)=>!Object.is(t,e),_r=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},sa=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Er=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Oi;const Hr=()=>Oi||(Oi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zn(t){if(V(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=me(r)?Wl(r):Zn(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(me(t)||ce(t))return t}const Bl=/;(?![^(]*\))/g,ql=/:([^]+)/,Hl=/\/\*[^]*?\*\//g;function Wl(t){const e={};return t.replace(Hl,"").split(Bl).forEach(s=>{if(s){const r=s.split(ql);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function it(t){let e="";if(me(t))e=t;else if(V(t))for(let s=0;s<t.length;s++){const r=it(t[s]);r&&(e+=r+" ")}else if(ce(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Vl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Kl=Gn(Vl);function ra(t){return!!t||t===""}function Jl(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=Wr(t[r],e[r]);return s}function Wr(t,e){if(t===e)return!0;let s=ki(t),r=ki(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=lt(t),r=lt(e),s||r)return t===e;if(s=V(t),r=V(e),s||r)return s&&r?Jl(t,e):!1;if(s=ce(t),r=ce(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Wr(t[o],e[o]))return!1}}return String(t)===String(e)}function zl(t,e){return t.findIndex(s=>Wr(s,e))}const na=t=>!!(t&&t.__v_isRef===!0),Wt=t=>me(t)?t:t==null?"":V(t)||ce(t)&&(t.toString===ea||!z(t.toString))?na(t)?Wt(t.value):JSON.stringify(t,ia,2):String(t),ia=(t,e)=>na(e)?ia(t,e.value):ps(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[rn(r,i)+" =>"]=n,s),{})}:Fr(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>rn(s))}:lt(e)?rn(e):ce(e)&&!V(e)&&!ta(e)?String(e):e,rn=(t,e="")=>{var s;return lt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ne;class Gl{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ne,!e&&Ne&&(this.index=(Ne.scopes||(Ne.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Ne;try{return Ne=this,e()}finally{Ne=s}}}on(){++this._on===1&&(this.prevScope=Ne,Ne=this)}off(){this._on>0&&--this._on===0&&(Ne=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Ql(){return Ne}let he;const nn=new WeakSet;class oa{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ne&&Ne.active&&Ne.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,nn.has(this)&&(nn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||la(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ti(this),ca(this);const e=he,s=ze;he=this,ze=!0;try{return this.fn()}finally{ua(this),he=e,ze=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)si(e);this.deps=this.depsTail=void 0,Ti(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?nn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Sn(this)&&this.run()}get dirty(){return Sn(this)}}let aa=0,Us,Ns;function la(t,e=!1){if(t.flags|=8,e){t.next=Ns,Ns=t;return}t.next=Us,Us=t}function ei(){aa++}function ti(){if(--aa>0)return;if(Ns){let e=Ns;for(Ns=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Us;){let e=Us;for(Us=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function ca(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ua(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),si(r),Yl(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function Sn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(da(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function da(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Js)||(t.globalVersion=Js,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Sn(t))))return;t.flags|=2;const e=t.dep,s=he,r=ze;he=t,ze=!0;try{ca(t);const n=t.fn(t._value);(e.version===0||Rt(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{he=s,ze=r,ua(t),t.flags&=-3}}function si(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)si(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Yl(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let ze=!0;const ha=[];function vt(){ha.push(ze),ze=!1}function _t(){const t=ha.pop();ze=t===void 0?!0:t}function Ti(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=he;he=void 0;try{e()}finally{he=s}}}let Js=0;class Xl{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ri{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!he||!ze||he===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==he)s=this.activeLink=new Xl(he,this),he.deps?(s.prevDep=he.depsTail,he.depsTail.nextDep=s,he.depsTail=s):he.deps=he.depsTail=s,fa(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=he.depsTail,s.nextDep=void 0,he.depsTail.nextDep=s,he.depsTail=s,he.deps===s&&(he.deps=r)}return s}trigger(e){this.version++,Js++,this.notify(e)}notify(e){ei();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ti()}}}function fa(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)fa(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const An=new WeakMap,Vt=Symbol(""),kn=Symbol(""),zs=Symbol("");function Ae(t,e,s){if(ze&&he){let r=An.get(t);r||An.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new ri),n.map=r,n.key=s),n.track()}}function gt(t,e,s,r,n,i){const o=An.get(t);if(!o){Js++;return}const a=l=>{l&&l.trigger()};if(ei(),e==="clear")o.forEach(a);else{const l=V(t),u=l&&Xn(s);if(l&&s==="length"){const c=Number(r);o.forEach((d,h)=>{(h==="length"||h===zs||!lt(h)&&h>=c)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(zs)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Vt)),ps(t)&&a(o.get(kn)));break;case"delete":l||(a(o.get(Vt)),ps(t)&&a(o.get(kn)));break;case"set":ps(t)&&a(o.get(Vt));break}}ti()}function Yt(t){const e=re(t);return e===t?e:(Ae(e,"iterate",zs),He(t)?e:e.map(Ee))}function Vr(t){return Ae(t=re(t),"iterate",zs),t}const Zl={__proto__:null,[Symbol.iterator](){return on(this,Symbol.iterator,Ee)},concat(...t){return Yt(this).concat(...t.map(e=>V(e)?Yt(e):e))},entries(){return on(this,"entries",t=>(t[1]=Ee(t[1]),t))},every(t,e){return dt(this,"every",t,e,void 0,arguments)},filter(t,e){return dt(this,"filter",t,e,s=>s.map(Ee),arguments)},find(t,e){return dt(this,"find",t,e,Ee,arguments)},findIndex(t,e){return dt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return dt(this,"findLast",t,e,Ee,arguments)},findLastIndex(t,e){return dt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return dt(this,"forEach",t,e,void 0,arguments)},includes(...t){return an(this,"includes",t)},indexOf(...t){return an(this,"indexOf",t)},join(t){return Yt(this).join(t)},lastIndexOf(...t){return an(this,"lastIndexOf",t)},map(t,e){return dt(this,"map",t,e,void 0,arguments)},pop(){return Cs(this,"pop")},push(...t){return Cs(this,"push",t)},reduce(t,...e){return Ci(this,"reduce",t,e)},reduceRight(t,...e){return Ci(this,"reduceRight",t,e)},shift(){return Cs(this,"shift")},some(t,e){return dt(this,"some",t,e,void 0,arguments)},splice(...t){return Cs(this,"splice",t)},toReversed(){return Yt(this).toReversed()},toSorted(t){return Yt(this).toSorted(t)},toSpliced(...t){return Yt(this).toSpliced(...t)},unshift(...t){return Cs(this,"unshift",t)},values(){return on(this,"values",Ee)}};function on(t,e,s){const r=Vr(t),n=r[e]();return r!==t&&!He(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.done||(i.value=s(i.value)),i}),n}const ec=Array.prototype;function dt(t,e,s,r,n,i){const o=Vr(t),a=o!==t&&!He(t),l=o[e];if(l!==ec[e]){const d=l.apply(t,i);return a?Ee(d):d}let u=s;o!==t&&(a?u=function(d,h){return s.call(this,Ee(d),h,t)}:s.length>2&&(u=function(d,h){return s.call(this,d,h,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function Ci(t,e,s,r){const n=Vr(t);let i=s;return n!==t&&(He(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,Ee(a),l,t)}),n[e](i,...r)}function an(t,e,s){const r=re(t);Ae(r,"iterate",zs);const n=r[e](...s);return(n===-1||n===!1)&&oi(s[0])?(s[0]=re(s[0]),r[e](...s)):n}function Cs(t,e,s=[]){vt(),ei();const r=re(t)[e].apply(t,s);return ti(),_t(),r}const tc=Gn("__proto__,__v_isRef,__isVue"),pa=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(lt));function sc(t){lt(t)||(t=String(t));const e=re(this);return Ae(e,"has",t),e.hasOwnProperty(t)}class ga{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?hc:ya:i?_a:va).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=V(e);if(!n){let l;if(o&&(l=Zl[s]))return l;if(s==="hasOwnProperty")return sc}const a=Reflect.get(e,s,Te(e)?e:r);if((lt(s)?pa.has(s):tc(s))||(n||Ae(e,"get",s),i))return a;if(Te(a)){const l=o&&Xn(s)?a:a.value;return n&&ce(l)?Tn(l):l}return ce(a)?n?Tn(a):Kr(a):a}}class ma extends ga{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=Pt(i);if(!He(r)&&!Pt(r)&&(i=re(i),r=re(r)),!V(e)&&Te(i)&&!Te(r))return l||(i.value=r),!0}const o=V(e)&&Xn(s)?Number(s)<e.length:ne(e,s),a=Reflect.set(e,s,r,Te(e)?e:n);return e===re(n)&&(o?Rt(r,i)&&gt(e,"set",s,r):gt(e,"add",s,r)),a}deleteProperty(e,s){const r=ne(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&gt(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!lt(s)||!pa.has(s))&&Ae(e,"has",s),r}ownKeys(e){return Ae(e,"iterate",V(e)?"length":Vt),Reflect.ownKeys(e)}}class rc extends ga{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const nc=new ma,ic=new rc,oc=new ma(!0);const On=t=>t,dr=t=>Reflect.getPrototypeOf(t);function ac(t,e,s){return function(...r){const n=this.__v_raw,i=re(n),o=ps(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?On:e?Sr:Ee;return!e&&Ae(i,"iterate",l?kn:Vt),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function hr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function lc(t,e){const s={get(n){const i=this.__v_raw,o=re(i),a=re(n);t||(Rt(n,a)&&Ae(o,"get",n),Ae(o,"get",a));const{has:l}=dr(o),u=e?On:t?Sr:Ee;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&Ae(re(n),"iterate",Vt),n.size},has(n){const i=this.__v_raw,o=re(i),a=re(n);return t||(Rt(n,a)&&Ae(o,"has",n),Ae(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=re(a),u=e?On:t?Sr:Ee;return!t&&Ae(l,"iterate",Vt),a.forEach((c,d)=>n.call(i,u(c),u(d),o))}};return Ce(s,t?{add:hr("add"),set:hr("set"),delete:hr("delete"),clear:hr("clear")}:{add(n){!e&&!He(n)&&!Pt(n)&&(n=re(n));const i=re(this);return dr(i).has.call(i,n)||(i.add(n),gt(i,"add",n,n)),this},set(n,i){!e&&!He(i)&&!Pt(i)&&(i=re(i));const o=re(this),{has:a,get:l}=dr(o);let u=a.call(o,n);u||(n=re(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?Rt(i,c)&&gt(o,"set",n,i):gt(o,"add",n,i),this},delete(n){const i=re(this),{has:o,get:a}=dr(i);let l=o.call(i,n);l||(n=re(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&gt(i,"delete",n,void 0),u},clear(){const n=re(this),i=n.size!==0,o=n.clear();return i&&gt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=ac(n,t,e)}),s}function ni(t,e){const s=lc(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(ne(s,n)&&n in r?s:r,n,i)}const cc={get:ni(!1,!1)},uc={get:ni(!1,!0)},dc={get:ni(!0,!1)};const va=new WeakMap,_a=new WeakMap,ya=new WeakMap,hc=new WeakMap;function fc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pc(t){return t.__v_skip||!Object.isExtensible(t)?0:fc(Ll(t))}function Kr(t){return Pt(t)?t:ii(t,!1,nc,cc,va)}function wa(t){return ii(t,!1,oc,uc,_a)}function Tn(t){return ii(t,!0,ic,dc,ya)}function ii(t,e,s,r,n){if(!ce(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=pc(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function gs(t){return Pt(t)?gs(t.__v_raw):!!(t&&t.__v_isReactive)}function Pt(t){return!!(t&&t.__v_isReadonly)}function He(t){return!!(t&&t.__v_isShallow)}function oi(t){return t?!!t.__v_raw:!1}function re(t){const e=t&&t.__v_raw;return e?re(e):t}function gc(t){return!ne(t,"__v_skip")&&Object.isExtensible(t)&&sa(t,"__v_skip",!0),t}const Ee=t=>ce(t)?Kr(t):t,Sr=t=>ce(t)?Tn(t):t;function Te(t){return t?t.__v_isRef===!0:!1}function ee(t){return ba(t,!1)}function mc(t){return ba(t,!0)}function ba(t,e){return Te(t)?t:new vc(t,e)}class vc{constructor(e,s){this.dep=new ri,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:re(e),this._value=s?e:Ee(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||He(e)||Pt(e);e=r?e:re(e),Rt(e,s)&&(this._rawValue=e,this._value=r?e:Ee(e),this.dep.trigger())}}function Je(t){return Te(t)?t.value:t}const _c={get:(t,e,s)=>e==="__v_raw"?t:Je(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return Te(n)&&!Te(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function xa(t){return gs(t)?t:new Proxy(t,_c)}class yc{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new ri(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Js-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&he!==this)return la(this,!0),!0}get value(){const e=this.dep.track();return da(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function wc(t,e,s=!1){let r,n;return z(t)?r=t:(r=t.get,n=t.set),new yc(r,n,s)}const fr={},Ar=new WeakMap;let Lt;function bc(t,e=!1,s=Lt){if(s){let r=Ar.get(s);r||Ar.set(s,r=[]),r.push(t)}}function xc(t,e,s=le){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=x=>n?x:He(x)||n===!1||n===0?mt(x,1):mt(x);let c,d,h,f,v=!1,b=!1;if(Te(t)?(d=()=>t.value,v=He(t)):gs(t)?(d=()=>u(t),v=!0):V(t)?(b=!0,v=t.some(x=>gs(x)||He(x)),d=()=>t.map(x=>{if(Te(x))return x.value;if(gs(x))return u(x);if(z(x))return l?l(x,2):x()})):z(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){vt();try{h()}finally{_t()}}const x=Lt;Lt=c;try{return l?l(t,3,[f]):t(f)}finally{Lt=x}}:d=ot,e&&n){const x=d,S=n===!0?1/0:n;d=()=>mt(x(),S)}const A=Ql(),R=()=>{c.stop(),A&&A.active&&Yn(A.effects,c)};if(i&&e){const x=e;e=(...S)=>{x(...S),R()}}let E=b?new Array(t.length).fill(fr):fr;const _=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(e){const S=c.run();if(n||v||(b?S.some((y,w)=>Rt(y,E[w])):Rt(S,E))){h&&h();const y=Lt;Lt=c;try{const w=[S,E===fr?void 0:b&&E[0]===fr?[]:E,f];E=S,l?l(e,3,w):e(...w)}finally{Lt=y}}}else c.run()};return a&&a(_),c=new oa(d),c.scheduler=o?()=>o(_,!1):_,f=x=>bc(x,!1,c),h=c.onStop=()=>{const x=Ar.get(c);if(x){if(l)l(x,4);else for(const S of x)S();Ar.delete(c)}},e?r?_(!0):E=c.run():o?o(_.bind(null,!0),!0):c.run(),R.pause=c.pause.bind(c),R.resume=c.resume.bind(c),R.stop=R,R}function mt(t,e=1/0,s){if(e<=0||!ce(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,Te(t))mt(t.value,e,s);else if(V(t))for(let r=0;r<t.length;r++)mt(t[r],e,s);else if(Fr(t)||ps(t))t.forEach(r=>{mt(r,e,s)});else if(ta(t)){for(const r in t)mt(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&mt(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function rr(t,e,s,r){try{return r?t(...r):t()}catch(n){Jr(n,e,s)}}function ct(t,e,s,r){if(z(t)){const n=rr(t,e,s,r);return n&&Zo(n)&&n.catch(i=>{Jr(i,e,s)}),n}if(V(t)){const n=[];for(let i=0;i<t.length;i++)n.push(ct(t[i],e,s,r));return n}}function Jr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||le;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(i){vt(),rr(i,null,10,[t,l,u]),_t();return}}Ec(t,s,n,r,o)}function Ec(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const Pe=[];let st=-1;const ms=[];let At=null,cs=0;const Ea=Promise.resolve();let kr=null;function ai(t){const e=kr||Ea;return t?e.then(this?t.bind(this):t):e}function Sc(t){let e=st+1,s=Pe.length;for(;e<s;){const r=e+s>>>1,n=Pe[r],i=Gs(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function li(t){if(!(t.flags&1)){const e=Gs(t),s=Pe[Pe.length-1];!s||!(t.flags&2)&&e>=Gs(s)?Pe.push(t):Pe.splice(Sc(e),0,t),t.flags|=1,Sa()}}function Sa(){kr||(kr=Ea.then(ka))}function Ac(t){V(t)?ms.push(...t):At&&t.id===-1?At.splice(cs+1,0,t):t.flags&1||(ms.push(t),t.flags|=1),Sa()}function Ri(t,e,s=st+1){for(;s<Pe.length;s++){const r=Pe[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Pe.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Aa(t){if(ms.length){const e=[...new Set(ms)].sort((s,r)=>Gs(s)-Gs(r));if(ms.length=0,At){At.push(...e);return}for(At=e,cs=0;cs<At.length;cs++){const s=At[cs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}At=null,cs=0}}const Gs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ka(t){try{for(st=0;st<Pe.length;st++){const e=Pe[st];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),rr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;st<Pe.length;st++){const e=Pe[st];e&&(e.flags&=-2)}st=-1,Pe.length=0,Aa(),kr=null,(Pe.length||ms.length)&&ka()}}let Fe=null,Oa=null;function Or(t){const e=Fe;return Fe=t,Oa=t&&t.type.__scopeId||null,e}function ke(t,e=Fe,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Rr(-1);const i=Or(e);let o;try{o=t(...n)}finally{Or(i),r._d&&Rr(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ct(t,e){if(Fe===null)return t;const s=Xr(Fe),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=le]=e[n];i&&(z(i)&&(i={mounted:i,updated:i}),i.deep&&mt(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function $t(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(vt(),ct(l,s,8,[t.el,a,t,e]),_t())}}const kc=Symbol("_vte"),Oc=t=>t.__isTeleport,Tc=Symbol("_leaveCb");function ci(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ci(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ta(t,e){return z(t)?Ce({name:t.name},e,{setup:t}):t}function Ca(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Tr=new WeakMap;function Ds(t,e,s,r,n=!1){if(V(t)){t.forEach((v,b)=>Ds(v,e&&(V(e)?e[b]:e),s,r,n));return}if(Ls(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ds(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Xr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===le?a.refs={}:a.refs,d=a.setupState,h=re(d),f=d===le?Xo:v=>ne(h,v);if(u!=null&&u!==l){if(Pi(e),me(u))c[u]=null,f(u)&&(d[u]=null);else if(Te(u)){u.value=null;const v=e;v.k&&(c[v.k]=null)}}if(z(l))rr(l,a,12,[o,c]);else{const v=me(l),b=Te(l);if(v||b){const A=()=>{if(t.f){const R=v?f(l)?d[l]:c[l]:l.value;if(n)V(R)&&Yn(R,i);else if(V(R))R.includes(i)||R.push(i);else if(v)c[l]=[i],f(l)&&(d[l]=c[l]);else{const E=[i];l.value=E,t.k&&(c[t.k]=E)}}else v?(c[l]=o,f(l)&&(d[l]=o)):b&&(l.value=o,t.k&&(c[t.k]=o))};if(o){const R=()=>{A(),Tr.delete(t)};R.id=-1,Tr.set(t,R),Le(R,s)}else Pi(t),A()}}}function Pi(t){const e=Tr.get(t);e&&(e.flags|=8,Tr.delete(t))}Hr().requestIdleCallback;Hr().cancelIdleCallback;const Ls=t=>!!t.type.__asyncLoader,Ra=t=>t.type.__isKeepAlive;function Cc(t,e){Pa(t,"a",e)}function Rc(t,e){Pa(t,"da",e)}function Pa(t,e,s=Oe){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(zr(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Ra(n.parent.vnode)&&Pc(r,e,s,n),n=n.parent}}function Pc(t,e,s,r){const n=zr(e,t,r,!0);Ia(()=>{Yn(r[e],n)},s)}function zr(t,e,s=Oe,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{vt();const a=ir(s),l=ct(e,s,t,o);return a(),_t(),l});return r?n.unshift(i):n.push(i),i}}const yt=t=>(e,s=Oe)=>{(!Ys||t==="sp")&&zr(t,(...r)=>e(...r),s)},Ic=yt("bm"),nr=yt("m"),jc=yt("bu"),$c=yt("u"),Uc=yt("bum"),Ia=yt("um"),Nc=yt("sp"),Dc=yt("rtg"),Lc=yt("rtc");function Mc(t,e=Oe){zr("ec",t,e)}const Fc="components";function ws(t,e){return qc(Fc,t,!0,e)||t}const Bc=Symbol.for("v-ndc");function qc(t,e,s=!0,r=!1){const n=Fe||Oe;if(n){const i=n.type;{const a=Ru(i,!1);if(a&&(a===e||a===We(e)||a===qr(We(e))))return i}const o=Ii(n[t]||i[t],e)||Ii(n.appContext[t],e);return!o&&r?i:o}}function Ii(t,e){return t&&(t[e]||t[We(e)]||t[qr(We(e))])}function ja(t,e,s,r){let n;const i=s,o=V(t);if(o||me(t)){const a=o&&gs(t);let l=!1,u=!1;a&&(l=!He(t),u=Pt(t),t=Vr(t)),n=new Array(t.length);for(let c=0,d=t.length;c<d;c++)n[c]=e(l?u?Sr(Ee(t[c])):Ee(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(ce(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}const Cn=t=>t?el(t)?Xr(t):Cn(t.parent):null,Ms=Ce(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Cn(t.parent),$root:t=>Cn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ua(t),$forceUpdate:t=>t.f||(t.f=()=>{li(t.update)}),$nextTick:t=>t.n||(t.n=ai.bind(t.proxy)),$watch:t=>cu.bind(t)}),ln=(t,e)=>t!==le&&!t.__isScriptSetup&&ne(t,e),Hc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(ln(r,e))return o[e]=1,r[e];if(n!==le&&ne(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&ne(u,e))return o[e]=3,i[e];if(s!==le&&ne(s,e))return o[e]=4,s[e];Rn&&(o[e]=0)}}const c=Ms[e];let d,h;if(c)return e==="$attrs"&&Ae(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==le&&ne(s,e))return o[e]=4,s[e];if(h=l.config.globalProperties,ne(h,e))return h[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return ln(n,e)?(n[e]=s,!0):r!==le&&ne(r,e)?(r[e]=s,!0):ne(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i,type:o}},a){let l,u;return!!(s[a]||t!==le&&a[0]!=="$"&&ne(t,a)||ln(e,a)||(l=i[0])&&ne(l,a)||ne(r,a)||ne(Ms,a)||ne(n.config.globalProperties,a)||(u=o.__cssModules)&&u[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:ne(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function ji(t){return V(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Rn=!0;function Wc(t){const e=Ua(t),s=t.proxy,r=t.ctx;Rn=!1,e.beforeCreate&&$i(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:v,activated:b,deactivated:A,beforeDestroy:R,beforeUnmount:E,destroyed:_,unmounted:x,render:S,renderTracked:y,renderTriggered:w,errorCaptured:I,serverPrefetch:F,expose:G,inheritAttrs:ve,components:wt,directives:Qe,filters:Os}=e;if(u&&Vc(u,r,null),o)for(const oe in o){const te=o[oe];z(te)&&(r[oe]=te.bind(s))}if(n){const oe=n.call(s,s);ce(oe)&&(t.data=Kr(oe))}if(Rn=!0,i)for(const oe in i){const te=i[oe],ut=z(te)?te.bind(s,s):z(te.get)?te.get.bind(s,s):ot,bt=!z(te)&&z(te.set)?te.set.bind(s):ot,Ye=Se({get:ut,set:bt});Object.defineProperty(r,oe,{enumerable:!0,configurable:!0,get:()=>Ye.value,set:Ie=>Ye.value=Ie})}if(a)for(const oe in a)$a(a[oe],r,s,oe);if(l){const oe=z(l)?l.call(s):l;Reflect.ownKeys(oe).forEach(te=>{yr(te,oe[te])})}c&&$i(c,t,"c");function ye(oe,te){V(te)?te.forEach(ut=>oe(ut.bind(s))):te&&oe(te.bind(s))}if(ye(Ic,d),ye(nr,h),ye(jc,f),ye($c,v),ye(Cc,b),ye(Rc,A),ye(Mc,I),ye(Lc,y),ye(Dc,w),ye(Uc,E),ye(Ia,x),ye(Nc,F),V(G))if(G.length){const oe=t.exposed||(t.exposed={});G.forEach(te=>{Object.defineProperty(oe,te,{get:()=>s[te],set:ut=>s[te]=ut,enumerable:!0})})}else t.exposed||(t.exposed={});S&&t.render===ot&&(t.render=S),ve!=null&&(t.inheritAttrs=ve),wt&&(t.components=wt),Qe&&(t.directives=Qe),F&&Ca(t)}function Vc(t,e,s=ot){V(t)&&(t=Pn(t));for(const r in t){const n=t[r];let i;ce(n)?"default"in n?i=at(n.from||r,n.default,!0):i=at(n.from||r):i=at(n),Te(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function $i(t,e,s){ct(V(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function $a(t,e,s,r){let n=r.includes(".")?za(s,r):()=>s[r];if(me(t)){const i=e[t];z(i)&&Fs(n,i)}else if(z(t))Fs(n,t.bind(s));else if(ce(t))if(V(t))t.forEach(i=>$a(i,e,s,r));else{const i=z(t.handler)?t.handler.bind(s):e[t.handler];z(i)&&Fs(n,i,t)}}function Ua(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Cr(l,u,o,!0)),Cr(l,e,o)),ce(e)&&i.set(e,l),l}function Cr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Cr(t,i,s,!0),n&&n.forEach(o=>Cr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=Kc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Kc={data:Ui,props:Ni,emits:Ni,methods:Is,computed:Is,beforeCreate:Re,created:Re,beforeMount:Re,mounted:Re,beforeUpdate:Re,updated:Re,beforeDestroy:Re,beforeUnmount:Re,destroyed:Re,unmounted:Re,activated:Re,deactivated:Re,errorCaptured:Re,serverPrefetch:Re,components:Is,directives:Is,watch:zc,provide:Ui,inject:Jc};function Ui(t,e){return e?t?function(){return Ce(z(t)?t.call(this,this):t,z(e)?e.call(this,this):e)}:e:t}function Jc(t,e){return Is(Pn(t),Pn(e))}function Pn(t){if(V(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Re(t,e){return t?[...new Set([].concat(t,e))]:e}function Is(t,e){return t?Ce(Object.create(null),t,e):e}function Ni(t,e){return t?V(t)&&V(e)?[...new Set([...t,...e])]:Ce(Object.create(null),ji(t),ji(e??{})):e}function zc(t,e){if(!t)return e;if(!e)return t;const s=Ce(Object.create(null),t);for(const r in e)s[r]=Re(t[r],e[r]);return s}function Na(){return{app:null,config:{isNativeTag:Xo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gc=0;function Qc(t,e){return function(r,n=null){z(r)||(r=Ce({},r)),n!=null&&!ce(n)&&(n=null);const i=Na(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Gc++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Iu,get config(){return i.config},set config(c){},use(c,...d){return o.has(c)||(c&&z(c.install)?(o.add(c),c.install(u,...d)):z(c)&&(o.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,h){if(!l){const f=u._ceVNode||X(r,n);return f.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),t(f,c,h),l=!0,u._container=c,c.__vue_app__=u,Xr(f.component)}},onUnmount(c){a.push(c)},unmount(){l&&(ct(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=vs;vs=u;try{return c()}finally{vs=d}}};return u}}let vs=null;function yr(t,e){if(Oe){let s=Oe.provides;const r=Oe.parent&&Oe.parent.provides;r===s&&(s=Oe.provides=Object.create(r)),s[t]=e}}function at(t,e,s=!1){const r=Au();if(r||vs){let n=vs?vs._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&z(e)?e.call(r&&r.proxy):e}}const Da={},La=()=>Object.create(Da),Ma=t=>Object.getPrototypeOf(t)===Da;function Yc(t,e,s,r=!1){const n={},i=La();t.propsDefaults=Object.create(null),Fa(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:wa(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Xc(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=re(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(Gr(t.emitsOptions,h))continue;const f=e[h];if(l)if(ne(i,h))f!==i[h]&&(i[h]=f,u=!0);else{const v=We(h);n[v]=In(l,a,v,f,t,!1)}else f!==i[h]&&(i[h]=f,u=!0)}}}else{Fa(t,e,n,i)&&(u=!0);let c;for(const d in a)(!e||!ne(e,d)&&((c=Kt(d))===d||!ne(e,c)))&&(l?s&&(s[d]!==void 0||s[c]!==void 0)&&(n[d]=In(l,a,d,void 0,t,!0)):delete n[d]);if(i!==a)for(const d in i)(!e||!ne(e,d))&&(delete i[d],u=!0)}u&&gt(t.attrs,"set","")}function Fa(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if($s(l))continue;const u=e[l];let c;n&&ne(n,c=We(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Gr(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=re(s),u=a||le;for(let c=0;c<i.length;c++){const d=i[c];s[d]=In(n,l,d,u[d],t,!ne(u,d))}}return o}function In(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=ne(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&z(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=ir(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Kt(s))&&(r=!0))}return r}const Zc=new WeakMap;function Ba(t,e,s=!1){const r=s?Zc:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!z(t)){const c=d=>{l=!0;const[h,f]=Ba(d,e,!0);Ce(o,h),f&&a.push(...f)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return ce(t)&&r.set(t,fs),fs;if(V(i))for(let c=0;c<i.length;c++){const d=We(i[c]);Di(d)&&(o[d]=le)}else if(i)for(const c in i){const d=We(c);if(Di(d)){const h=i[c],f=o[d]=V(h)||z(h)?{type:h}:Ce({},h),v=f.type;let b=!1,A=!0;if(V(v))for(let R=0;R<v.length;++R){const E=v[R],_=z(E)&&E.name;if(_==="Boolean"){b=!0;break}else _==="String"&&(A=!1)}else b=z(v)&&v.name==="Boolean";f[0]=b,f[1]=A,(b||ne(f,"default"))&&a.push(d)}}const u=[o,a];return ce(t)&&r.set(t,u),u}function Di(t){return t[0]!=="$"&&!$s(t)}const ui=t=>t==="_"||t==="_ctx"||t==="$stable",di=t=>V(t)?t.map(nt):[nt(t)],eu=(t,e,s)=>{if(e._n)return e;const r=ke((...n)=>di(e(...n)),s);return r._c=!1,r},qa=(t,e,s)=>{const r=t._ctx;for(const n in t){if(ui(n))continue;const i=t[n];if(z(i))e[n]=eu(n,i,r);else if(i!=null){const o=di(i);e[n]=()=>o}}},Ha=(t,e)=>{const s=di(e);t.slots.default=()=>s},Wa=(t,e,s)=>{for(const r in e)(s||!ui(r))&&(t[r]=e[r])},tu=(t,e,s)=>{const r=t.slots=La();if(t.vnode.shapeFlag&32){const n=e._;n?(Wa(r,e,s),s&&sa(r,"_",n,!0)):qa(e,r)}else e&&Ha(t,e)},su=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=le;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Wa(n,e,s):(i=!e.$stable,qa(e,n)),o=e}else e&&(Ha(t,e),o={default:1});if(i)for(const a in n)!ui(a)&&o[a]==null&&delete n[a]},Le=vu;function ru(t){return nu(t)}function nu(t,e){const s=Hr();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=ot,insertStaticContent:v}=t,b=(p,g,m,O=null,C=null,k=null,N=void 0,$=null,j=!!g.dynamicChildren)=>{if(p===g)return;p&&!Rs(p,g)&&(O=T(p),Ie(p,C,k,!0),p=null),g.patchFlag===-2&&(j=!1,g.dynamicChildren=null);const{type:P,ref:W,shapeFlag:L}=g;switch(P){case Qr:A(p,g,m,O);break;case It:R(p,g,m,O);break;case wr:p==null&&E(g,m,O,N);break;case be:wt(p,g,m,O,C,k,N,$,j);break;default:L&1?S(p,g,m,O,C,k,N,$,j):L&6?Qe(p,g,m,O,C,k,N,$,j):(L&64||L&128)&&P.process(p,g,m,O,C,k,N,$,j,B)}W!=null&&C?Ds(W,p&&p.ref,k,g||p,!g):W==null&&p&&p.ref!=null&&Ds(p.ref,null,k,p,!0)},A=(p,g,m,O)=>{if(p==null)r(g.el=a(g.children),m,O);else{const C=g.el=p.el;g.children!==p.children&&u(C,g.children)}},R=(p,g,m,O)=>{p==null?r(g.el=l(g.children||""),m,O):g.el=p.el},E=(p,g,m,O)=>{[p.el,p.anchor]=v(p.children,g,m,O,p.el,p.anchor)},_=({el:p,anchor:g},m,O)=>{let C;for(;p&&p!==g;)C=h(p),r(p,m,O),p=C;r(g,m,O)},x=({el:p,anchor:g})=>{let m;for(;p&&p!==g;)m=h(p),n(p),p=m;n(g)},S=(p,g,m,O,C,k,N,$,j)=>{g.type==="svg"?N="svg":g.type==="math"&&(N="mathml"),p==null?y(g,m,O,C,k,N,$,j):F(p,g,C,k,N,$,j)},y=(p,g,m,O,C,k,N,$)=>{let j,P;const{props:W,shapeFlag:L,transition:q,dirs:K}=p;if(j=p.el=o(p.type,k,W&&W.is,W),L&8?c(j,p.children):L&16&&I(p.children,j,null,O,C,cn(p,k),N,$),K&&$t(p,null,O,"created"),w(j,p,p.scopeId,N,O),W){for(const ue in W)ue!=="value"&&!$s(ue)&&i(j,ue,null,W[ue],k,O);"value"in W&&i(j,"value",null,W.value,k),(P=W.onVnodeBeforeMount)&&tt(P,O,p)}K&&$t(p,null,O,"beforeMount");const Y=iu(C,q);Y&&q.beforeEnter(j),r(j,g,m),((P=W&&W.onVnodeMounted)||Y||K)&&Le(()=>{P&&tt(P,O,p),Y&&q.enter(j),K&&$t(p,null,O,"mounted")},C)},w=(p,g,m,O,C)=>{if(m&&f(p,m),O)for(let k=0;k<O.length;k++)f(p,O[k]);if(C){let k=C.subTree;if(g===k||Qa(k.type)&&(k.ssContent===g||k.ssFallback===g)){const N=C.vnode;w(p,N,N.scopeId,N.slotScopeIds,C.parent)}}},I=(p,g,m,O,C,k,N,$,j=0)=>{for(let P=j;P<p.length;P++){const W=p[P]=$?kt(p[P]):nt(p[P]);b(null,W,g,m,O,C,k,N,$)}},F=(p,g,m,O,C,k,N)=>{const $=g.el=p.el;let{patchFlag:j,dynamicChildren:P,dirs:W}=g;j|=p.patchFlag&16;const L=p.props||le,q=g.props||le;let K;if(m&&Ut(m,!1),(K=q.onVnodeBeforeUpdate)&&tt(K,m,g,p),W&&$t(g,p,m,"beforeUpdate"),m&&Ut(m,!0),(L.innerHTML&&q.innerHTML==null||L.textContent&&q.textContent==null)&&c($,""),P?G(p.dynamicChildren,P,$,m,O,cn(g,C),k):N||te(p,g,$,null,m,O,cn(g,C),k,!1),j>0){if(j&16)ve($,L,q,m,C);else if(j&2&&L.class!==q.class&&i($,"class",null,q.class,C),j&4&&i($,"style",L.style,q.style,C),j&8){const Y=g.dynamicProps;for(let ue=0;ue<Y.length;ue++){const ie=Y[ue],je=L[ie],$e=q[ie];($e!==je||ie==="value")&&i($,ie,je,$e,C,m)}}j&1&&p.children!==g.children&&c($,g.children)}else!N&&P==null&&ve($,L,q,m,C);((K=q.onVnodeUpdated)||W)&&Le(()=>{K&&tt(K,m,g,p),W&&$t(g,p,m,"updated")},O)},G=(p,g,m,O,C,k,N)=>{for(let $=0;$<g.length;$++){const j=p[$],P=g[$],W=j.el&&(j.type===be||!Rs(j,P)||j.shapeFlag&198)?d(j.el):m;b(j,P,W,null,O,C,k,N,!0)}},ve=(p,g,m,O,C)=>{if(g!==m){if(g!==le)for(const k in g)!$s(k)&&!(k in m)&&i(p,k,g[k],null,C,O);for(const k in m){if($s(k))continue;const N=m[k],$=g[k];N!==$&&k!=="value"&&i(p,k,$,N,C,O)}"value"in m&&i(p,"value",g.value,m.value,C)}},wt=(p,g,m,O,C,k,N,$,j)=>{const P=g.el=p?p.el:a(""),W=g.anchor=p?p.anchor:a("");let{patchFlag:L,dynamicChildren:q,slotScopeIds:K}=g;K&&($=$?$.concat(K):K),p==null?(r(P,m,O),r(W,m,O),I(g.children||[],m,W,C,k,N,$,j)):L>0&&L&64&&q&&p.dynamicChildren?(G(p.dynamicChildren,q,m,C,k,N,$),(g.key!=null||C&&g===C.subTree)&&Va(p,g,!0)):te(p,g,m,W,C,k,N,$,j)},Qe=(p,g,m,O,C,k,N,$,j)=>{g.slotScopeIds=$,p==null?g.shapeFlag&512?C.ctx.activate(g,m,O,N,j):Os(g,m,O,C,k,N,j):zt(p,g,j)},Os=(p,g,m,O,C,k,N)=>{const $=p.component=Su(p,O,C);if(Ra(p)&&($.ctx.renderer=B),ku($,!1,N),$.asyncDep){if(C&&C.registerDep($,ye,N),!p.el){const j=$.subTree=X(It);R(null,j,g,m),p.placeholder=j.el}}else ye($,p,g,m,C,k,N)},zt=(p,g,m)=>{const O=g.component=p.component;if(gu(p,g,m))if(O.asyncDep&&!O.asyncResolved){oe(O,g,m);return}else O.next=g,O.update();else g.el=p.el,O.vnode=g},ye=(p,g,m,O,C,k,N)=>{const $=()=>{if(p.isMounted){let{next:L,bu:q,u:K,parent:Y,vnode:ue}=p;{const Ze=Ka(p);if(Ze){L&&(L.el=ue.el,oe(p,L,N)),Ze.asyncDep.then(()=>{p.isUnmounted||$()});return}}let ie=L,je;Ut(p,!1),L?(L.el=ue.el,oe(p,L,N)):L=ue,q&&_r(q),(je=L.props&&L.props.onVnodeBeforeUpdate)&&tt(je,Y,L,ue),Ut(p,!0);const $e=Mi(p),Xe=p.subTree;p.subTree=$e,b(Xe,$e,d(Xe.el),T(Xe),p,C,k),L.el=$e.el,ie===null&&mu(p,$e.el),K&&Le(K,C),(je=L.props&&L.props.onVnodeUpdated)&&Le(()=>tt(je,Y,L,ue),C)}else{let L;const{el:q,props:K}=g,{bm:Y,m:ue,parent:ie,root:je,type:$e}=p,Xe=Ls(g);Ut(p,!1),Y&&_r(Y),!Xe&&(L=K&&K.onVnodeBeforeMount)&&tt(L,ie,g),Ut(p,!0);{je.ce&&je.ce._def.shadowRoot!==!1&&je.ce._injectChildStyle($e);const Ze=p.subTree=Mi(p);b(null,Ze,m,O,p,C,k),g.el=Ze.el}if(ue&&Le(ue,C),!Xe&&(L=K&&K.onVnodeMounted)){const Ze=g;Le(()=>tt(L,ie,Ze),C)}(g.shapeFlag&256||ie&&Ls(ie.vnode)&&ie.vnode.shapeFlag&256)&&p.a&&Le(p.a,C),p.isMounted=!0,g=m=O=null}};p.scope.on();const j=p.effect=new oa($);p.scope.off();const P=p.update=j.run.bind(j),W=p.job=j.runIfDirty.bind(j);W.i=p,W.id=p.uid,j.scheduler=()=>li(W),Ut(p,!0),P()},oe=(p,g,m)=>{g.component=p;const O=p.vnode.props;p.vnode=g,p.next=null,Xc(p,g.props,O,m),su(p,g.children,m),vt(),Ri(p),_t()},te=(p,g,m,O,C,k,N,$,j=!1)=>{const P=p&&p.children,W=p?p.shapeFlag:0,L=g.children,{patchFlag:q,shapeFlag:K}=g;if(q>0){if(q&128){bt(P,L,m,O,C,k,N,$,j);return}else if(q&256){ut(P,L,m,O,C,k,N,$,j);return}}K&8?(W&16&&qe(P,C,k),L!==P&&c(m,L)):W&16?K&16?bt(P,L,m,O,C,k,N,$,j):qe(P,C,k,!0):(W&8&&c(m,""),K&16&&I(L,m,O,C,k,N,$,j))},ut=(p,g,m,O,C,k,N,$,j)=>{p=p||fs,g=g||fs;const P=p.length,W=g.length,L=Math.min(P,W);let q;for(q=0;q<L;q++){const K=g[q]=j?kt(g[q]):nt(g[q]);b(p[q],K,m,null,C,k,N,$,j)}P>W?qe(p,C,k,!0,!1,L):I(g,m,O,C,k,N,$,j,L)},bt=(p,g,m,O,C,k,N,$,j)=>{let P=0;const W=g.length;let L=p.length-1,q=W-1;for(;P<=L&&P<=q;){const K=p[P],Y=g[P]=j?kt(g[P]):nt(g[P]);if(Rs(K,Y))b(K,Y,m,null,C,k,N,$,j);else break;P++}for(;P<=L&&P<=q;){const K=p[L],Y=g[q]=j?kt(g[q]):nt(g[q]);if(Rs(K,Y))b(K,Y,m,null,C,k,N,$,j);else break;L--,q--}if(P>L){if(P<=q){const K=q+1,Y=K<W?g[K].el:O;for(;P<=q;)b(null,g[P]=j?kt(g[P]):nt(g[P]),m,Y,C,k,N,$,j),P++}}else if(P>q)for(;P<=L;)Ie(p[P],C,k,!0),P++;else{const K=P,Y=P,ue=new Map;for(P=Y;P<=q;P++){const De=g[P]=j?kt(g[P]):nt(g[P]);De.key!=null&&ue.set(De.key,P)}let ie,je=0;const $e=q-Y+1;let Xe=!1,Ze=0;const Ts=new Array($e);for(P=0;P<$e;P++)Ts[P]=0;for(P=K;P<=L;P++){const De=p[P];if(je>=$e){Ie(De,C,k,!0);continue}let et;if(De.key!=null)et=ue.get(De.key);else for(ie=Y;ie<=q;ie++)if(Ts[ie-Y]===0&&Rs(De,g[ie])){et=ie;break}et===void 0?Ie(De,C,k,!0):(Ts[et-Y]=P+1,et>=Ze?Ze=et:Xe=!0,b(De,g[et],m,null,C,k,N,$,j),je++)}const Ei=Xe?ou(Ts):fs;for(ie=Ei.length-1,P=$e-1;P>=0;P--){const De=Y+P,et=g[De],Si=g[De+1],Ai=De+1<W?Si.el||Si.placeholder:O;Ts[P]===0?b(null,et,m,Ai,C,k,N,$,j):Xe&&(ie<0||P!==Ei[ie]?Ye(et,m,Ai,2):ie--)}}},Ye=(p,g,m,O,C=null)=>{const{el:k,type:N,transition:$,children:j,shapeFlag:P}=p;if(P&6){Ye(p.component.subTree,g,m,O);return}if(P&128){p.suspense.move(g,m,O);return}if(P&64){N.move(p,g,m,B);return}if(N===be){r(k,g,m);for(let L=0;L<j.length;L++)Ye(j[L],g,m,O);r(p.anchor,g,m);return}if(N===wr){_(p,g,m);return}if(O!==2&&P&1&&$)if(O===0)$.beforeEnter(k),r(k,g,m),Le(()=>$.enter(k),C);else{const{leave:L,delayLeave:q,afterLeave:K}=$,Y=()=>{p.ctx.isUnmounted?n(k):r(k,g,m)},ue=()=>{k._isLeaving&&k[Tc](!0),L(k,()=>{Y(),K&&K()})};q?q(k,Y,ue):ue()}else r(k,g,m)},Ie=(p,g,m,O=!1,C=!1)=>{const{type:k,props:N,ref:$,children:j,dynamicChildren:P,shapeFlag:W,patchFlag:L,dirs:q,cacheIndex:K}=p;if(L===-2&&(C=!1),$!=null&&(vt(),Ds($,null,m,p,!0),_t()),K!=null&&(g.renderCache[K]=void 0),W&256){g.ctx.deactivate(p);return}const Y=W&1&&q,ue=!Ls(p);let ie;if(ue&&(ie=N&&N.onVnodeBeforeUnmount)&&tt(ie,g,p),W&6)ur(p.component,m,O);else{if(W&128){p.suspense.unmount(m,O);return}Y&&$t(p,null,g,"beforeUnmount"),W&64?p.type.remove(p,g,m,B,O):P&&!P.hasOnce&&(k!==be||L>0&&L&64)?qe(P,g,m,!1,!0):(k===be&&L&384||!C&&W&16)&&qe(j,g,m),O&&Gt(p)}(ue&&(ie=N&&N.onVnodeUnmounted)||Y)&&Le(()=>{ie&&tt(ie,g,p),Y&&$t(p,null,g,"unmounted")},m)},Gt=p=>{const{type:g,el:m,anchor:O,transition:C}=p;if(g===be){Qt(m,O);return}if(g===wr){x(p);return}const k=()=>{n(m),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(p.shapeFlag&1&&C&&!C.persisted){const{leave:N,delayLeave:$}=C,j=()=>N(m,k);$?$(p.el,k,j):j()}else k()},Qt=(p,g)=>{let m;for(;p!==g;)m=h(p),n(p),p=m;n(g)},ur=(p,g,m)=>{const{bum:O,scope:C,job:k,subTree:N,um:$,m:j,a:P}=p;Li(j),Li(P),O&&_r(O),C.stop(),k&&(k.flags|=8,Ie(N,p,g,m)),$&&Le($,g),Le(()=>{p.isUnmounted=!0},g)},qe=(p,g,m,O=!1,C=!1,k=0)=>{for(let N=k;N<p.length;N++)Ie(p[N],g,m,O,C)},T=p=>{if(p.shapeFlag&6)return T(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=h(p.anchor||p.el),m=g&&g[kc];return m?h(m):g};let M=!1;const D=(p,g,m)=>{p==null?g._vnode&&Ie(g._vnode,null,null,!0):b(g._vnode||null,p,g,null,null,null,m),g._vnode=p,M||(M=!0,Ri(),Aa(),M=!1)},B={p:b,um:Ie,m:Ye,r:Gt,mt:Os,mc:I,pc:te,pbc:G,n:T,o:t};return{render:D,hydrate:void 0,createApp:Qc(D)}}function cn({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Ut({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function iu(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Va(t,e,s=!1){const r=t.children,n=e.children;if(V(r)&&V(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=kt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Va(o,a)),a.type===Qr&&a.patchFlag!==-1&&(a.el=o.el),a.type===It&&!a.el&&(a.el=o.el)}}function ou(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Ka(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ka(e)}function Li(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const au=Symbol.for("v-scx"),lu=()=>at(au);function Fs(t,e,s){return Ja(t,e,s)}function Ja(t,e,s=le){const{immediate:r,deep:n,flush:i,once:o}=s,a=Ce({},s),l=e&&r||!e&&i!=="post";let u;if(Ys){if(i==="sync"){const f=lu();u=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=ot,f.resume=ot,f.pause=ot,f}}const c=Oe;a.call=(f,v,b)=>ct(f,c,v,b);let d=!1;i==="post"?a.scheduler=f=>{Le(f,c&&c.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(f,v)=>{v?f():li(f)}),a.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,c&&(f.id=c.uid,f.i=c))};const h=xc(t,e,a);return Ys&&(u?u.push(h):l&&h()),h}function cu(t,e,s){const r=this.proxy,n=me(t)?t.includes(".")?za(r,t):()=>r[t]:t.bind(r,r);let i;z(e)?i=e:(i=e.handler,s=e);const o=ir(this),a=Ja(n,i.bind(r),s);return o(),a}function za(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const uu=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${We(e)}Modifiers`]||t[`${Kt(e)}Modifiers`];function du(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||le;let n=s;const i=e.startsWith("update:"),o=i&&uu(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>me(c)?c.trim():c)),o.number&&(n=s.map(Er)));let a,l=r[a=sn(e)]||r[a=sn(We(e))];!l&&i&&(l=r[a=sn(Kt(e))]),l&&ct(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ct(u,t,6,n)}}const hu=new WeakMap;function Ga(t,e,s=!1){const r=s?hu:e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!z(t)){const l=u=>{const c=Ga(u,e,!0);c&&(a=!0,Ce(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ce(t)&&r.set(t,null),null):(V(i)?i.forEach(l=>o[l]=null):Ce(o,i),ce(t)&&r.set(t,o),o)}function Gr(t,e){return!t||!Mr(e)?!1:(e=e.slice(2).replace(/Once$/,""),ne(t,e[0].toLowerCase()+e.slice(1))||ne(t,Kt(e))||ne(t,e))}function Mi(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:h,setupState:f,ctx:v,inheritAttrs:b}=t,A=Or(t);let R,E;try{if(s.shapeFlag&4){const x=n||r,S=x;R=nt(u.call(S,x,c,d,f,h,v)),E=a}else{const x=e;R=nt(x.length>1?x(d,{attrs:a,slots:o,emit:l}):x(d,null)),E=e.props?a:fu(a)}}catch(x){Bs.length=0,Jr(x,t,1),R=X(It)}let _=R;if(E&&b!==!1){const x=Object.keys(E),{shapeFlag:S}=_;x.length&&S&7&&(i&&x.some(Qn)&&(E=pu(E,i)),_=bs(_,E,!1,!0))}return s.dirs&&(_=bs(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(s.dirs):s.dirs),s.transition&&ci(_,s.transition),R=_,Or(A),R}const fu=t=>{let e;for(const s in t)(s==="class"||s==="style"||Mr(s))&&((e||(e={}))[s]=t[s]);return e},pu=(t,e)=>{const s={};for(const r in t)(!Qn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function gu(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Fi(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==r[h]&&!Gr(u,h))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Fi(r,o,u):!0:!!o;return!1}function Fi(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!Gr(s,i))return!0}return!1}function mu({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Qa=t=>t.__isSuspense;function vu(t,e){e&&e.pendingBranch?V(t)?e.effects.push(...t):e.effects.push(t):Ac(t)}const be=Symbol.for("v-fgt"),Qr=Symbol.for("v-txt"),It=Symbol.for("v-cmt"),wr=Symbol.for("v-stc"),Bs=[];let Be=null;function Q(t=!1){Bs.push(Be=t?null:[])}function _u(){Bs.pop(),Be=Bs[Bs.length-1]||null}let Qs=1;function Rr(t,e=!1){Qs+=t,t<0&&Be&&e&&(Be.hasOnce=!0)}function Ya(t){return t.dynamicChildren=Qs>0?Be||fs:null,_u(),Qs>0&&Be&&Be.push(t),t}function Z(t,e,s,r,n,i){return Ya(U(t,e,s,r,n,i,!0))}function Xa(t,e,s,r,n){return Ya(X(t,e,s,r,n,!0))}function Pr(t){return t?t.__v_isVNode===!0:!1}function Rs(t,e){return t.type===e.type&&t.key===e.key}const Za=({key:t})=>t??null,br=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?me(t)||Te(t)||z(t)?{i:Fe,r:t,k:e,f:!!s}:t:null);function U(t,e=null,s=null,r=0,n=null,i=t===be?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Za(e),ref:e&&br(e),scopeId:Oa,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Fe};return a?(fi(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=me(s)?8:16),Qs>0&&!o&&Be&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Be.push(l),l}const X=yu;function yu(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Bc)&&(t=It),Pr(t)){const a=bs(t,e,!0);return s&&fi(a,s),Qs>0&&!i&&Be&&(a.shapeFlag&6?Be[Be.indexOf(t)]=a:Be.push(a)),a.patchFlag=-2,a}if(Pu(t)&&(t=t.__vccOpts),e){e=wu(e);let{class:a,style:l}=e;a&&!me(a)&&(e.class=it(a)),ce(l)&&(oi(l)&&!V(l)&&(l=Ce({},l)),e.style=Zn(l))}const o=me(t)?1:Qa(t)?128:Oc(t)?64:ce(t)?4:z(t)?2:0;return U(t,e,s,r,n,o,i,!0)}function wu(t){return t?oi(t)||Ma(t)?Ce({},t):t:null}function bs(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?bu(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Za(u),ref:e&&e.ref?s&&i?V(i)?i.concat(br(e)):[i,br(e)]:br(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==be?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&bs(t.ssContent),ssFallback:t.ssFallback&&bs(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&ci(c,l.clone(c)),c}function ge(t=" ",e=0){return X(Qr,null,t,e)}function hi(t,e){const s=X(wr,null,t);return s.staticCount=e,s}function Yr(t="",e=!1){return e?(Q(),Xa(It,null,t)):X(It,null,t)}function nt(t){return t==null||typeof t=="boolean"?X(It):V(t)?X(be,null,t.slice()):Pr(t)?kt(t):X(Qr,null,String(t))}function kt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:bs(t)}function fi(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(V(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),fi(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Ma(e)?e._ctx=Fe:n===3&&Fe&&(Fe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else z(e)?(e={default:e,_ctx:Fe},s=32):(e=String(e),r&64?(s=16,e=[ge(e)]):s=8);t.children=e,t.shapeFlag|=s}function bu(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=it([e.class,r.class]));else if(n==="style")e.style=Zn([e.style,r.style]);else if(Mr(n)){const i=e[n],o=r[n];o&&i!==o&&!(V(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function tt(t,e,s,r=null){ct(t,e,7,[s,r])}const xu=Na();let Eu=0;function Su(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||xu,i={uid:Eu++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Gl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ba(r,n),emitsOptions:Ga(r,n),emit:null,emitted:null,propsDefaults:le,inheritAttrs:r.inheritAttrs,ctx:le,data:le,props:le,attrs:le,slots:le,refs:le,setupState:le,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=du.bind(null,i),t.ce&&t.ce(i),i}let Oe=null;const Au=()=>Oe||Fe;let Ir,jn;{const t=Hr(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Ir=e("__VUE_INSTANCE_SETTERS__",s=>Oe=s),jn=e("__VUE_SSR_SETTERS__",s=>Ys=s)}const ir=t=>{const e=Oe;return Ir(t),t.scope.on(),()=>{t.scope.off(),Ir(e)}},Bi=()=>{Oe&&Oe.scope.off(),Ir(null)};function el(t){return t.vnode.shapeFlag&4}let Ys=!1;function ku(t,e=!1,s=!1){e&&jn(e);const{props:r,children:n}=t.vnode,i=el(t);Yc(t,r,i,e),tu(t,n,s||e);const o=i?Ou(t,e):void 0;return e&&jn(!1),o}function Ou(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Hc);const{setup:r}=s;if(r){vt();const n=t.setupContext=r.length>1?Cu(t):null,i=ir(t),o=rr(r,t,0,[t.props,n]),a=Zo(o);if(_t(),i(),(a||t.sp)&&!Ls(t)&&Ca(t),a){if(o.then(Bi,Bi),e)return o.then(l=>{qi(t,l)}).catch(l=>{Jr(l,t,0)});t.asyncDep=o}else qi(t,o)}else tl(t)}function qi(t,e,s){z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ce(e)&&(t.setupState=xa(e)),tl(t)}function tl(t,e,s){const r=t.type;t.render||(t.render=r.render||ot);{const n=ir(t);vt();try{Wc(t)}finally{_t(),n()}}}const Tu={get(t,e){return Ae(t,"get",""),t[e]}};function Cu(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Tu),slots:t.slots,emit:t.emit,expose:e}}function Xr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(xa(gc(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Ms)return Ms[s](t)},has(e,s){return s in e||s in Ms}})):t.proxy}function Ru(t,e=!0){return z(t)?t.displayName||t.name:t.name||e&&t.__name}function Pu(t){return z(t)&&"__vccOpts"in t}const Se=(t,e)=>wc(t,e,Ys);function sl(t,e,s){try{Rr(-1);const r=arguments.length;return r===2?ce(e)&&!V(e)?Pr(e)?X(t,null,[e]):X(t,e):X(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Pr(s)&&(s=[s]),X(t,e,s))}finally{Rr(1)}}const Iu="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $n;const Hi=typeof window<"u"&&window.trustedTypes;if(Hi)try{$n=Hi.createPolicy("vue",{createHTML:t=>t})}catch{}const rl=$n?t=>$n.createHTML(t):t=>t,ju="http://www.w3.org/2000/svg",$u="http://www.w3.org/1998/Math/MathML",ft=typeof document<"u"?document:null,Wi=ft&&ft.createElement("template"),Uu={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?ft.createElementNS(ju,t):e==="mathml"?ft.createElementNS($u,t):s?ft.createElement(t,{is:s}):ft.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>ft.createTextNode(t),createComment:t=>ft.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ft.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Wi.innerHTML=rl(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Wi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Nu=Symbol("_vtc");function Du(t,e,s){const r=t[Nu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Vi=Symbol("_vod"),Lu=Symbol("_vsh"),Mu=Symbol(""),Fu=/(?:^|;)\s*display\s*:/;function Bu(t,e,s){const r=t.style,n=me(s);let i=!1;if(s&&!n){if(e)if(me(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&xr(r,a,"")}else for(const o in e)s[o]==null&&xr(r,o,"");for(const o in s)o==="display"&&(i=!0),xr(r,o,s[o])}else if(n){if(e!==s){const o=r[Mu];o&&(s+=";"+o),r.cssText=s,i=Fu.test(s)}}else e&&t.removeAttribute("style");Vi in t&&(t[Vi]=i?r.display:"",t[Lu]&&(r.display="none"))}const Ki=/\s*!important$/;function xr(t,e,s){if(V(s))s.forEach(r=>xr(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=qu(t,e);Ki.test(s)?t.setProperty(Kt(r),s.replace(Ki,""),"important"):t[r]=s}}const Ji=["Webkit","Moz","ms"],un={};function qu(t,e){const s=un[e];if(s)return s;let r=We(e);if(r!=="filter"&&r in t)return un[e]=r;r=qr(r);for(let n=0;n<Ji.length;n++){const i=Ji[n]+r;if(i in t)return un[e]=i}return e}const zi="http://www.w3.org/1999/xlink";function Gi(t,e,s,r,n,i=Kl(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(zi,e.slice(6,e.length)):t.setAttributeNS(zi,e,s):s==null||i&&!ra(s)?t.removeAttribute(e):t.setAttribute(e,i?"":lt(s)?String(s):s)}function Qi(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?rl(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=ra(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function Ft(t,e,s,r){t.addEventListener(e,s,r)}function Hu(t,e,s,r){t.removeEventListener(e,s,r)}const Yi=Symbol("_vei");function Wu(t,e,s,r,n=null){const i=t[Yi]||(t[Yi]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Vu(e);if(r){const u=i[e]=zu(r,n);Ft(t,a,u,l)}else o&&(Hu(t,a,o,l),i[e]=void 0)}}const Xi=/(?:Once|Passive|Capture)$/;function Vu(t){let e;if(Xi.test(t)){e={};let r;for(;r=t.match(Xi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Kt(t.slice(2)),e]}let dn=0;const Ku=Promise.resolve(),Ju=()=>dn||(Ku.then(()=>dn=0),dn=Date.now());function zu(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;ct(Gu(r,s.value),e,5,[r])};return s.value=t,s.attached=Ju(),s}function Gu(t,e){if(V(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Zi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Qu=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Du(t,r,o):e==="style"?Bu(t,s,r):Mr(e)?Qn(e)||Wu(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Yu(t,e,r,o))?(Qi(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Gi(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!me(r))?Qi(t,We(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Gi(t,e,r,o))};function Yu(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Zi(e)&&z(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Zi(e)&&me(s)?!1:e in t}const jr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return V(e)?s=>_r(e,s):e};function Xu(t){t.target.composing=!0}function eo(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const _s=Symbol("_assign"),xs={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[_s]=jr(n);const i=r||n.props&&n.props.type==="number";Ft(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Er(a)),t[_s](a)}),s&&Ft(t,"change",()=>{t.value=t.value.trim()}),e||(Ft(t,"compositionstart",Xu),Ft(t,"compositionend",eo),Ft(t,"change",eo))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[_s]=jr(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Er(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},to={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=Fr(e);Ft(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?Er($r(o)):$r(o));t[_s](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,ai(()=>{t._assigning=!1})}),t[_s]=jr(r)},mounted(t,{value:e}){so(t,e)},beforeUpdate(t,e,s){t[_s]=jr(s)},updated(t,{value:e}){t._assigning||so(t,e)}};function so(t,e){const s=t.multiple,r=V(e);if(!(s&&!r&&!Fr(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=$r(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=zl(e,a)>-1}else o.selected=e.has(a);else if(Wr($r(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function $r(t){return"_value"in t?t._value:t.value}const Zu=Ce({patchProp:Qu},Uu);let ro;function ed(){return ro||(ro=ru(Zu))}const td=((...t)=>{const e=ed().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=rd(r);if(!n)return;const i=e._component;!z(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,sd(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e});function sd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function rd(t){return me(t)?document.querySelector(t):t}const nl="/hex_supabase/assets/logo-RhEl2I3y.svg",nd="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%209C10.1935%209%2011.3381%208.52589%2012.182%207.68198C13.0259%206.83807%2013.5%205.69347%2013.5%204.5C13.5%203.30653%2013.0259%202.16193%2012.182%201.31802C11.3381%200.474106%2010.1935%200%209%200C7.80653%200%206.66193%200.474106%205.81802%201.31802C4.97411%202.16193%204.5%203.30653%204.5%204.5C4.5%205.69347%204.97411%206.83807%205.81802%207.68198C6.66193%208.52589%207.80653%209%209%209ZM12%204.5C12%205.29565%2011.6839%206.05871%2011.1213%206.62132C10.5587%207.18393%209.79565%207.5%209%207.5C8.20435%207.5%207.44129%207.18393%206.87868%206.62132C6.31607%206.05871%206%205.29565%206%204.5C6%203.70435%206.31607%202.94129%206.87868%202.37868C7.44129%201.81607%208.20435%201.5%209%201.5C9.79565%201.5%2010.5587%201.81607%2011.1213%202.37868C11.6839%202.94129%2012%203.70435%2012%204.5ZM18%2016.5C18%2018%2016.5%2018%2016.5%2018H1.5C1.5%2018%200%2018%200%2016.5C0%2015%201.5%2010.5%209%2010.5C16.5%2010.5%2018%2015%2018%2016.5ZM16.5%2016.494C16.4985%2016.125%2016.269%2015.015%2015.252%2013.998C14.274%2013.02%2012.4335%2012%209%2012C5.565%2012%203.726%2013.02%202.748%2013.998C1.731%2015.015%201.503%2016.125%201.5%2016.494H16.5Z'%20fill='%23212529'/%3e%3c/svg%3e",or=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},id={},od={class:"flex w-full px-5 h-[80px] mb-[32px]"},ad={class:"flex w-[1296px] m-0 mx-auto justify-between items-center"},ld={class:"flex items-center"},cd={class:"mr-[48px]"},ud={class:"flex max-sm:hidden font-noto text-[#212529]"},dd={class:"mr-[40px] font-[500] font-noto text-[16px] leading-[150%] tracking-[0.8px] font-noto"},hd={class:"font-[500] text-[16px] font-noto leading-[150%] tracking-[0.8px]"};function fd(t,e){const s=ws("router-link");return Q(),Z("div",od,[U("div",ad,[U("div",ld,[U("h1",cd,[X(s,{to:"/"},{default:ke(()=>[...e[0]||(e[0]=[U("img",{src:nl,alt:""},null,-1)])]),_:1})]),U("div",ud,[U("p",dd,[X(s,{to:"/product"},{default:ke(()=>[...e[1]||(e[1]=[ge("商品列表",-1)])]),_:1})]),U("p",hd,[X(s,{to:"/story"},{default:ke(()=>[...e[2]||(e[2]=[ge("品牌故事",-1)])]),_:1})])])]),e[3]||(e[3]=U("div",null,[U("img",{src:nd,alt:"",srcset:""})],-1))])])}const pd=or(id,[["render",fd]]),gd={};function md(t,e){return e[0]||(e[0]=hi('<div class="flex w-full justify-center items-center gap-x-[24px] h-[96px] max-sm:h-[88px] bg-[#E8FEC5] mb-[64px] px-[24px] max-sm:mb-[32px]"><div class="flex text-[24px] max-sm:text-[20px] font-[700] font-noto leading-[120%] tracking-[1.2px] max-sm:tracking-[1px]"> 加入會員取得 9 折優惠</div><div class=""><a class="flex justify-center max-xs:text-[red] px-[16px] py-[8px] bg-[#212529] text-[#FFFFFF] rounded-[4px] hover:bg-[#495057] focus:bg-[#495057] xs:text-[10px]" href="">馬上註冊 </a></div></div><div class="flex w-full px-5"><div class="flex max-sm:items-start max-sm:flex-col h-[48px] items-center justify-between w-[1296px] m-0 mx-auto max-sm:mb-[132px] mb-[24px]"><div class="text-[28px] font-[700] leading-[120%] tracking-[1.4px] py-[8px] max-sm:mb-[8px]"><img src="'+nl+'" alt="" srcset=""></div><div class="flex max-sm:flex-col gap-x-[40px] max-sm:gap-y-[4px] text-[16px] font-[500] leading-[150%] tracking-[0.8px] px-[12px]"><div class="w-full text-left py-[12px]">商品列表</div><div class="w-full text-left py-[12px]">品牌故事</div></div></div></div><div class="w-full px-[12px]"><div class="border-t border-t-[#DEE2E6] max-w-[1296px] mx-auto mb-[50px] text-[14px] text-[#6C757D] leading-[150%] font-[400] tracking-[0.7px] text-center"><div class="mt-[32px] mb-[4px]">Copyright ©2025 URBNSTYLE</div><div class="">All Rights Reserved.</div></div></div>',3))}const vd=or(gd,[["render",md]]),_d={id:"app"},yd={class:"px-5"},wd={__name:"App",setup(t){return(e,s)=>{const r=ws("router-link"),n=ws("router-view");return Q(),Z("div",_d,[U("nav",null,[X(r,{to:"/"},{default:ke(()=>[...s[0]||(s[0]=[ge("Index",-1)])]),_:1}),s[4]||(s[4]=ge(" | ",-1)),X(r,{to:"/product"},{default:ke(()=>[...s[1]||(s[1]=[ge("Product",-1)])]),_:1}),s[5]||(s[5]=ge(" | ",-1)),X(r,{to:"/create"},{default:ke(()=>[...s[2]||(s[2]=[ge("Create",-1)])]),_:1}),s[6]||(s[6]=ge(" | ",-1)),X(r,{to:"/test"},{default:ke(()=>[...s[3]||(s[3]=[ge("Test",-1)])]),_:1})]),X(pd),U("main",yd,[(Q(),Xa(n,{key:e.$route.fullPath}))]),X(vd)])}}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const us=typeof document<"u";function il(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function bd(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&il(t.default)}const se=Object.assign;function hn(t,e){const s={};for(const r in e){const n=e[r];s[r]=Ge(n)?n.map(t):t(n)}return s}const qs=()=>{},Ge=Array.isArray,ol=/#/g,xd=/&/g,Ed=/\//g,Sd=/=/g,Ad=/\?/g,al=/\+/g,kd=/%5B/g,Od=/%5D/g,ll=/%5E/g,Td=/%60/g,cl=/%7B/g,Cd=/%7C/g,ul=/%7D/g,Rd=/%20/g;function pi(t){return encodeURI(""+t).replace(Cd,"|").replace(kd,"[").replace(Od,"]")}function Pd(t){return pi(t).replace(cl,"{").replace(ul,"}").replace(ll,"^")}function Un(t){return pi(t).replace(al,"%2B").replace(Rd,"+").replace(ol,"%23").replace(xd,"%26").replace(Td,"`").replace(cl,"{").replace(ul,"}").replace(ll,"^")}function Id(t){return Un(t).replace(Sd,"%3D")}function jd(t){return pi(t).replace(ol,"%23").replace(Ad,"%3F")}function $d(t){return t==null?"":jd(t).replace(Ed,"%2F")}function Xs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Ud=/\/$/,Nd=t=>t.replace(Ud,"");function fn(t,e,s="/"){let r,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),n=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Fd(r??e,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:Xs(o)}}function Dd(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function no(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Ld(t,e,s){const r=e.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&Es(e.matched[r],s.matched[n])&&dl(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Es(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function dl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Md(t[s],e[s]))return!1;return!0}function Md(t,e){return Ge(t)?io(t,e):Ge(e)?io(e,t):t===e}function io(t,e){return Ge(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function Fd(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const xt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Zs;(function(t){t.pop="pop",t.push="push"})(Zs||(Zs={}));var Hs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Hs||(Hs={}));function Bd(t){if(!t)if(us){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Nd(t)}const qd=/^[^#]+#/;function Hd(t,e){return t.replace(qd,"#")+e}function Wd(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const Zr=()=>({left:window.scrollX,top:window.scrollY});function Vd(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=Wd(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function oo(t,e){return(history.state?history.state.position-e:-1)+t}const Nn=new Map;function Kd(t,e){Nn.set(t,e)}function Jd(t){const e=Nn.get(t);return Nn.delete(t),e}let zd=()=>location.protocol+"//"+location.host;function hl(t,e){const{pathname:s,search:r,hash:n}=e,i=t.indexOf("#");if(i>-1){let a=n.includes(t.slice(i))?t.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),no(l,"")}return no(s,t)+r+n}function Gd(t,e,s,r){let n=[],i=[],o=null;const a=({state:h})=>{const f=hl(t,location),v=s.value,b=e.value;let A=0;if(h){if(s.value=f,e.value=h,o&&o===v){o=null;return}A=b?h.position-b.position:0}else r(f);n.forEach(R=>{R(s.value,v,{delta:A,type:Zs.pop,direction:A?A>0?Hs.forward:Hs.back:Hs.unknown})})};function l(){o=s.value}function u(h){n.push(h);const f=()=>{const v=n.indexOf(h);v>-1&&n.splice(v,1)};return i.push(f),f}function c(){const{history:h}=window;h.state&&h.replaceState(se({},h.state,{scroll:Zr()}),"")}function d(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function ao(t,e,s,r=!1,n=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:n?Zr():null}}function Qd(t){const{history:e,location:s}=window,r={value:hl(t,s)},n={value:e.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const d=t.indexOf("#"),h=d>-1?(s.host&&document.querySelector("base")?t:t.slice(d))+l:zd()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),n.value=u}catch(f){console.error(f),s[c?"replace":"assign"](h)}}function o(l,u){const c=se({},e.state,ao(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=se({},n.value,e.state,{forward:l,scroll:Zr()});i(c.current,c,!0);const d=se({},ao(r.value,l,null),{position:c.position+1},u);i(l,d,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function Yd(t){t=Bd(t);const e=Qd(t),s=Gd(t,e.state,e.location,e.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=se({location:"",base:t,go:r,createHref:Hd.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function Xd(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Yd(t)}function Zd(t){return typeof t=="string"||t&&typeof t=="object"}function fl(t){return typeof t=="string"||typeof t=="symbol"}const pl=Symbol("");var lo;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(lo||(lo={}));function Ss(t,e){return se(new Error,{type:t,[pl]:!0},e)}function ht(t,e){return t instanceof Error&&pl in t&&(e==null||!!(t.type&e))}const co="[^/]+?",eh={sensitive:!1,strict:!1,start:!0,end:!0},th=/[.+*?^${}()[\]/\\]/g;function sh(t,e){const s=se({},eh,e),r=[];let n=s.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let d=0;d<u.length;d++){const h=u[d];let f=40+(s.sensitive?.25:0);if(h.type===0)d||(n+="/"),n+=h.value.replace(th,"\\$&"),f+=40;else if(h.type===1){const{value:v,repeatable:b,optional:A,regexp:R}=h;i.push({name:v,repeatable:b,optional:A});const E=R||co;if(E!==co){f+=10;try{new RegExp(`(${E})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${v}" (${E}): `+x.message)}}let _=b?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;d||(_=A&&u.length<2?`(?:/${_})`:"/"+_),A&&(_+="?"),n+=_,f+=20,A&&(f+=-8),b&&(f+=-20),E===".*"&&(f+=-50)}c.push(f)}r.push(c)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",v=i[h-1];d[v.name]=f&&v.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const h of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:v,repeatable:b,optional:A}=f,R=v in u?u[v]:"";if(Ge(R)&&!b)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const E=Ge(R)?R.join("/"):R;if(!E)if(A)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${v}"`);c+=E}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function rh(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function gl(t,e){let s=0;const r=t.score,n=e.score;for(;s<r.length&&s<n.length;){const i=rh(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(uo(r))return 1;if(uo(n))return-1}return n.length-r.length}function uo(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const nh={type:0,value:""},ih=/[a-zA-Z0-9_]/;function oh(t){if(!t)return[[]];if(t==="/")return[[nh]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${s})/"${u}": ${f}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function d(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),s=1):h();break;case 4:h(),s=r;break;case 1:l==="("?s=2:ih.test(l)?h():(d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),n}function ah(t,e,s){const r=sh(oh(t.path),s),n=se(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function lh(t,e){const s=[],r=new Map;e=go({strict:!1,end:!0,sensitive:!1},e);function n(d){return r.get(d)}function i(d,h,f){const v=!f,b=fo(d);b.aliasOf=f&&f.record;const A=go(e,d),R=[b];if("alias"in d){const x=typeof d.alias=="string"?[d.alias]:d.alias;for(const S of x)R.push(fo(se({},b,{components:f?f.record.components:b.components,path:S,aliasOf:f?f.record:b})))}let E,_;for(const x of R){const{path:S}=x;if(h&&S[0]!=="/"){const y=h.record.path,w=y[y.length-1]==="/"?"":"/";x.path=h.record.path+(S&&w+S)}if(E=ah(x,h,A),f?f.alias.push(E):(_=_||E,_!==E&&_.alias.push(E),v&&d.name&&!po(E)&&o(d.name)),ml(E)&&l(E),b.children){const y=b.children;for(let w=0;w<y.length;w++)i(y[w],E,f&&f.children[w])}f=f||E}return _?()=>{o(_)}:qs}function o(d){if(fl(d)){const h=r.get(d);h&&(r.delete(d),s.splice(s.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=s.indexOf(d);h>-1&&(s.splice(h,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return s}function l(d){const h=dh(d,s);s.splice(h,0,d),d.record.name&&!po(d)&&r.set(d.record.name,d)}function u(d,h){let f,v={},b,A;if("name"in d&&d.name){if(f=r.get(d.name),!f)throw Ss(1,{location:d});A=f.record.name,v=se(ho(h.params,f.keys.filter(_=>!_.optional).concat(f.parent?f.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),d.params&&ho(d.params,f.keys.map(_=>_.name))),b=f.stringify(v)}else if(d.path!=null)b=d.path,f=s.find(_=>_.re.test(b)),f&&(v=f.parse(b),A=f.record.name);else{if(f=h.name?r.get(h.name):s.find(_=>_.re.test(h.path)),!f)throw Ss(1,{location:d,currentLocation:h});A=f.record.name,v=se({},h.params,d.params),b=f.stringify(v)}const R=[];let E=f;for(;E;)R.unshift(E.record),E=E.parent;return{name:A,path:b,params:v,matched:R,meta:uh(R)}}t.forEach(d=>i(d));function c(){s.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:n}}function ho(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function fo(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:ch(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function ch(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function po(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function uh(t){return t.reduce((e,s)=>se(e,s.meta),{})}function go(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}function dh(t,e){let s=0,r=e.length;for(;s!==r;){const i=s+r>>1;gl(t,e[i])<0?r=i:s=i+1}const n=hh(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function hh(t){let e=t;for(;e=e.parent;)if(ml(e)&&gl(t,e)===0)return e}function ml({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function fh(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(al," "),o=i.indexOf("="),a=Xs(o<0?i:i.slice(0,o)),l=o<0?null:Xs(i.slice(o+1));if(a in e){let u=e[a];Ge(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function mo(t){let e="";for(let s in t){const r=t[s];if(s=Id(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(Ge(r)?r.map(i=>i&&Un(i)):[r&&Un(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function ph(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=Ge(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const gh=Symbol(""),vo=Symbol(""),gi=Symbol(""),mi=Symbol(""),Dn=Symbol("");function Ps(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Ot(t,e,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(Ss(4,{from:s,to:e})):h instanceof Error?l(h):Zd(h)?l(Ss(2,{from:e,to:h})):(o&&r.enterCallbacks[n]===o&&typeof h=="function"&&o.push(h),a())},c=i(()=>t.call(r&&r.instances[n],e,s,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(h=>l(h))})}function pn(t,e,s,r,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(il(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Ot(c,s,r,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=bd(c)?c.default:c;o.mods[a]=c,o.components[a]=d;const f=(d.__vccOpts||d)[e];return f&&Ot(f,s,r,o,a,n)()}))}}return i}function _o(t){const e=at(gi),s=at(mi),r=Se(()=>{const l=Je(t.to);return e.resolve(l)}),n=Se(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=s.matched;if(!c||!d.length)return-1;const h=d.findIndex(Es.bind(null,c));if(h>-1)return h;const f=yo(l[u-2]);return u>1&&yo(c)===f&&d[d.length-1].path!==f?d.findIndex(Es.bind(null,l[u-2])):h}),i=Se(()=>n.value>-1&&wh(s.params,r.value.params)),o=Se(()=>n.value>-1&&n.value===s.matched.length-1&&dl(s.params,r.value.params));function a(l={}){if(yh(l)){const u=e[Je(t.replace)?"replace":"push"](Je(t.to)).catch(qs);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:Se(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function mh(t){return t.length===1?t[0]:t}const vh=Ta({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:_o,setup(t,{slots:e}){const s=Kr(_o(t)),{options:r}=at(gi),n=Se(()=>({[wo(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[wo(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&mh(e.default(s));return t.custom?i:sl("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),_h=vh;function yh(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function wh(t,e){for(const s in e){const r=e[s],n=t[s];if(typeof r=="string"){if(r!==n)return!1}else if(!Ge(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function yo(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const wo=(t,e,s)=>t??e??s,bh=Ta({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=at(Dn),n=Se(()=>t.route||r.value),i=at(vo,0),o=Se(()=>{let u=Je(i);const{matched:c}=n.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=Se(()=>n.value.matched[o.value]);yr(vo,Se(()=>o.value+1)),yr(gh,a),yr(Dn,n);const l=ee();return Fs(()=>[l.value,a.value,t.name],([u,c,d],[h,f,v])=>{c&&(c.instances[d]=u,f&&f!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!Es(c,f)||!h)&&(c.enterCallbacks[d]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=n.value,c=t.name,d=a.value,h=d&&d.components[c];if(!h)return bo(s.default,{Component:h,route:u});const f=d.props[c],v=f?f===!0?u.params:typeof f=="function"?f(u):f:null,A=sl(h,se({},v,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return bo(s.default,{Component:A,route:u})||A}}});function bo(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const xh=bh;function Eh(t){const e=lh(t.routes,t),s=t.parseQuery||fh,r=t.stringifyQuery||mo,n=t.history,i=Ps(),o=Ps(),a=Ps(),l=mc(xt);let u=xt;us&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=hn.bind(null,T=>""+T),d=hn.bind(null,$d),h=hn.bind(null,Xs);function f(T,M){let D,B;return fl(T)?(D=e.getRecordMatcher(T),B=M):B=T,e.addRoute(B,D)}function v(T){const M=e.getRecordMatcher(T);M&&e.removeRoute(M)}function b(){return e.getRoutes().map(T=>T.record)}function A(T){return!!e.getRecordMatcher(T)}function R(T,M){if(M=se({},M||l.value),typeof T=="string"){const m=fn(s,T,M.path),O=e.resolve({path:m.path},M),C=n.createHref(m.fullPath);return se(m,O,{params:h(O.params),hash:Xs(m.hash),redirectedFrom:void 0,href:C})}let D;if(T.path!=null)D=se({},T,{path:fn(s,T.path,M.path).path});else{const m=se({},T.params);for(const O in m)m[O]==null&&delete m[O];D=se({},T,{params:d(m)}),M.params=d(M.params)}const B=e.resolve(D,M),ae=T.hash||"";B.params=c(h(B.params));const p=Dd(r,se({},T,{hash:Pd(ae),path:B.path})),g=n.createHref(p);return se({fullPath:p,hash:ae,query:r===mo?ph(T.query):T.query||{}},B,{redirectedFrom:void 0,href:g})}function E(T){return typeof T=="string"?fn(s,T,l.value.path):se({},T)}function _(T,M){if(u!==T)return Ss(8,{from:M,to:T})}function x(T){return w(T)}function S(T){return x(se(E(T),{replace:!0}))}function y(T){const M=T.matched[T.matched.length-1];if(M&&M.redirect){const{redirect:D}=M;let B=typeof D=="function"?D(T):D;return typeof B=="string"&&(B=B.includes("?")||B.includes("#")?B=E(B):{path:B},B.params={}),se({query:T.query,hash:T.hash,params:B.path!=null?{}:T.params},B)}}function w(T,M){const D=u=R(T),B=l.value,ae=T.state,p=T.force,g=T.replace===!0,m=y(D);if(m)return w(se(E(m),{state:typeof m=="object"?se({},ae,m.state):ae,force:p,replace:g}),M||D);const O=D;O.redirectedFrom=M;let C;return!p&&Ld(r,B,D)&&(C=Ss(16,{to:O,from:B}),Ye(B,B,!0,!1)),(C?Promise.resolve(C):G(O,B)).catch(k=>ht(k)?ht(k,2)?k:bt(k):te(k,O,B)).then(k=>{if(k){if(ht(k,2))return w(se({replace:g},E(k.to),{state:typeof k.to=="object"?se({},ae,k.to.state):ae,force:p}),M||O)}else k=wt(O,B,!0,g,ae);return ve(O,B,k),k})}function I(T,M){const D=_(T,M);return D?Promise.reject(D):Promise.resolve()}function F(T){const M=Qt.values().next().value;return M&&typeof M.runWithContext=="function"?M.runWithContext(T):T()}function G(T,M){let D;const[B,ae,p]=Sh(T,M);D=pn(B.reverse(),"beforeRouteLeave",T,M);for(const m of B)m.leaveGuards.forEach(O=>{D.push(Ot(O,T,M))});const g=I.bind(null,T,M);return D.push(g),qe(D).then(()=>{D=[];for(const m of i.list())D.push(Ot(m,T,M));return D.push(g),qe(D)}).then(()=>{D=pn(ae,"beforeRouteUpdate",T,M);for(const m of ae)m.updateGuards.forEach(O=>{D.push(Ot(O,T,M))});return D.push(g),qe(D)}).then(()=>{D=[];for(const m of p)if(m.beforeEnter)if(Ge(m.beforeEnter))for(const O of m.beforeEnter)D.push(Ot(O,T,M));else D.push(Ot(m.beforeEnter,T,M));return D.push(g),qe(D)}).then(()=>(T.matched.forEach(m=>m.enterCallbacks={}),D=pn(p,"beforeRouteEnter",T,M,F),D.push(g),qe(D))).then(()=>{D=[];for(const m of o.list())D.push(Ot(m,T,M));return D.push(g),qe(D)}).catch(m=>ht(m,8)?m:Promise.reject(m))}function ve(T,M,D){a.list().forEach(B=>F(()=>B(T,M,D)))}function wt(T,M,D,B,ae){const p=_(T,M);if(p)return p;const g=M===xt,m=us?history.state:{};D&&(B||g?n.replace(T.fullPath,se({scroll:g&&m&&m.scroll},ae)):n.push(T.fullPath,ae)),l.value=T,Ye(T,M,D,g),bt()}let Qe;function Os(){Qe||(Qe=n.listen((T,M,D)=>{if(!ur.listening)return;const B=R(T),ae=y(B);if(ae){w(se(ae,{replace:!0,force:!0}),B).catch(qs);return}u=B;const p=l.value;us&&Kd(oo(p.fullPath,D.delta),Zr()),G(B,p).catch(g=>ht(g,12)?g:ht(g,2)?(w(se(E(g.to),{force:!0}),B).then(m=>{ht(m,20)&&!D.delta&&D.type===Zs.pop&&n.go(-1,!1)}).catch(qs),Promise.reject()):(D.delta&&n.go(-D.delta,!1),te(g,B,p))).then(g=>{g=g||wt(B,p,!1),g&&(D.delta&&!ht(g,8)?n.go(-D.delta,!1):D.type===Zs.pop&&ht(g,20)&&n.go(-1,!1)),ve(B,p,g)}).catch(qs)}))}let zt=Ps(),ye=Ps(),oe;function te(T,M,D){bt(T);const B=ye.list();return B.length?B.forEach(ae=>ae(T,M,D)):console.error(T),Promise.reject(T)}function ut(){return oe&&l.value!==xt?Promise.resolve():new Promise((T,M)=>{zt.add([T,M])})}function bt(T){return oe||(oe=!T,Os(),zt.list().forEach(([M,D])=>T?D(T):M()),zt.reset()),T}function Ye(T,M,D,B){const{scrollBehavior:ae}=t;if(!us||!ae)return Promise.resolve();const p=!D&&Jd(oo(T.fullPath,0))||(B||!D)&&history.state&&history.state.scroll||null;return ai().then(()=>ae(T,M,p)).then(g=>g&&Vd(g)).catch(g=>te(g,T,M))}const Ie=T=>n.go(T);let Gt;const Qt=new Set,ur={currentRoute:l,listening:!0,addRoute:f,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:A,getRoutes:b,resolve:R,options:t,push:x,replace:S,go:Ie,back:()=>Ie(-1),forward:()=>Ie(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ye.add,isReady:ut,install(T){const M=this;T.component("RouterLink",_h),T.component("RouterView",xh),T.config.globalProperties.$router=M,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>Je(l)}),us&&!Gt&&l.value===xt&&(Gt=!0,x(n.location).catch(ae=>{}));const D={};for(const ae in xt)Object.defineProperty(D,ae,{get:()=>l.value[ae],enumerable:!0});T.provide(gi,M),T.provide(mi,wa(D)),T.provide(Dn,l);const B=T.unmount;Qt.add(T),T.unmount=function(){Qt.delete(T),Qt.size<1&&(u=xt,Qe&&Qe(),Qe=null,l.value=xt,Gt=!1,oe=!1),B()}}};function qe(T){return T.reduce((M,D)=>M.then(()=>F(D)),Promise.resolve())}return ur}function Sh(t,e){const s=[],r=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>Es(u,a))?r.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Es(u,l))||n.push(l))}return[s,r,n]}function ar(t){return at(mi)}const Ah={},kh={class:"flex"};function Oh(t,e){return Q(),Z("div",kh,[...e[0]||(e[0]=[U("h1",{class:"mx-auto"},"Index Page",-1)])])}const Th=or(Ah,[["render",Oh]]),Ch="modulepreload",Rh=function(t){return"/hex_supabase/"+t},xo={},lr=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){let u=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};var o=u;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");n=u(s.map(c=>{if(c=Rh(c),c in xo)return;xo[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Ch,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((v,b)=>{f.addEventListener("load",v),f.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return n.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Ph=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>lr(async()=>{const{default:r}=await Promise.resolve().then(()=>ks);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class vi extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Eo extends vi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class So extends vi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ao extends vi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ln;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ln||(Ln={}));var Ih=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class jh{constructor(e,{headers:s={},customFetch:r,region:n=Ln.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Ph(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ih(this,arguments,void 0,function*(s,r={}){var n;try{const{headers:i,method:o,body:a,signal:l}=r;let u={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${s}`);c&&c!=="any"&&(u["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(u["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(u["Content-Type"]="application/json",h=JSON.stringify(a)));const f=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:l}).catch(R=>{throw R.name==="AbortError"?R:new Eo(R)}),v=f.headers.get("x-relay-error");if(v&&v==="true")throw new So(f);if(!f.ok)throw new Ao(f);let b=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),A;return b==="application/json"?A=yield f.json():b==="application/octet-stream"?A=yield f.blob():b==="text/event-stream"?A=f:b==="multipart/form-data"?A=yield f.formData():A=yield f.text(),{data:A,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Eo(i)}:{data:null,error:i,response:i instanceof Ao||i instanceof So?i.context:void 0}}})}}function $h(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Uh(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function r(){var n=!1;try{n=this instanceof r}catch{}return n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var we={},Xt={},Zt={},es={},ts={},ss={},Nh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},As=Nh();const Dh=As.fetch,vl=As.fetch.bind(As),_l=As.Headers,Lh=As.Request,Mh=As.Response,ks=Object.freeze(Object.defineProperty({__proto__:null,Headers:_l,Request:Lh,Response:Mh,default:vl,fetch:Dh},Symbol.toStringTag,{value:"Module"})),Fh=Uh(ks);var pr={},ko;function yl(){if(ko)return pr;ko=1,Object.defineProperty(pr,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return pr.default=t,pr}var Oo;function wl(){if(Oo)return ss;Oo=1;var t=ss&&ss.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ss,"__esModule",{value:!0});const e=t(Fh),s=t(yl());class r{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,h,f;let v=null,b=null,A=null,R=u.status,E=u.statusText;if(u.ok){if(this.method!=="HEAD"){const y=await u.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?b=y:b=JSON.parse(y))}const x=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");x&&S&&S.length>1&&(A=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(v={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,A=null,R=406,E="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const x=await u.text();try{v=JSON.parse(x),Array.isArray(v)&&u.status===404&&(b=[],v=null,R=200,E="OK")}catch{u.status===404&&x===""?(R=204,E="No Content"):v={message:x}}if(v&&this.isMaybeSingle&&(!((f=v?.details)===null||f===void 0)&&f.includes("0 rows"))&&(v=null,R=200,E="OK"),v&&this.shouldThrowOnError)throw new s.default(v)}return{error:v,data:b,count:A,status:R,statusText:E}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,h;return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:`${(d=u?.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=u?.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return ss.default=r,ss}var To;function bl(){if(To)return ts;To=1;var t=ts&&ts.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ts,"__esModule",{value:!0});const e=t(wl());class s extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return ts.default=s,ts}var Co;function _i(){if(Co)return es;Co=1;var t=es&&es.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(es,"__esModule",{value:!0});const e=t(bl());class s extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return es.default=s,es}var Ro;function xl(){if(Ro)return Zt;Ro=1;var t=Zt&&Zt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zt,"__esModule",{value:!0});const e=t(_i());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(n,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const c=(n??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const u=n.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const d=n.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(n,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:n}={}){var i;const o="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Zt.default=s,Zt}var Po;function Bh(){if(Po)return Xt;Po=1;var t=Xt&&Xt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Xt,"__esModule",{value:!0});const e=t(xl()),s=t(_i());class r{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${i}`);let f;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([b,A])=>A!==void 0).map(([b,A])=>[b,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([b,A])=>{h.searchParams.append(b,A)})):(d="POST",f=o);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new s.default({method:d,url:h,headers:v,schema:this.schemaName,body:f,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Xt.default=r,Xt}var Io;function qh(){if(Io)return we;Io=1;var t=we&&we.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(we,"__esModule",{value:!0}),we.PostgrestError=we.PostgrestBuilder=we.PostgrestTransformBuilder=we.PostgrestFilterBuilder=we.PostgrestQueryBuilder=we.PostgrestClient=void 0;const e=t(Bh());we.PostgrestClient=e.default;const s=t(xl());we.PostgrestQueryBuilder=s.default;const r=t(_i());we.PostgrestFilterBuilder=r.default;const n=t(bl());we.PostgrestTransformBuilder=n.default;const i=t(wl());we.PostgrestBuilder=i.default;const o=t(yl());return we.PostgrestError=o.default,we.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},we}var Hh=qh();const Wh=$h(Hh),{PostgrestClient:Vh,PostgrestQueryBuilder:ym,PostgrestFilterBuilder:wm,PostgrestTransformBuilder:bm,PostgrestBuilder:xm,PostgrestError:Em}=Wh;class Kh{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,n=parseInt(r.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Jh="2.75.0",zh=`realtime-js/${Jh}`,Gh="1.0.0",Mn=1e4,Qh=1e3,Yh=100;var Ws;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ws||(Ws={}));var _e;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_e||(_e={}));var Ke;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ke||(Ke={}));var Fn;(function(t){t.websocket="websocket"})(Fn||(Fn={}));var Bt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Bt||(Bt={}));class Xh{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class El{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(de||(de={}));const jo=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Zh(o,t,e,n),i),{}):{}},Zh=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n?.type,o=s[t];return i&&!r.includes(i)?Sl(i,o):Bn(o)},Sl=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return rf(e,s)}switch(t){case de.bool:return ef(e);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return tf(e);case de.json:case de.jsonb:return sf(e);case de.timestamp:return nf(e);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return Bn(e);default:return Bn(e)}},Bn=t=>t,ef=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tf=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},sf=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},rf=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Sl(e,a))}return t},nf=t=>typeof t=="string"?t.replace(" ","T"):t,Al=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class gn{constructor(e,s,r={},n=Mn){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $o;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})($o||($o={}));class Vs{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Vs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Vs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(A=>A.presence_ref),f=d.map(A=>A.presence_ref),v=c.filter(A=>f.indexOf(A.presence_ref)<0),b=d.filter(A=>h.indexOf(A.presence_ref)<0);v.length>0&&(a[u]=v),b.length>0&&(l[u]=b)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(f=>f.presence_ref),h=c.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Uo;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Uo||(Uo={}));var Ks;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ks||(Ks={}));var pt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(pt||(pt={}));class yi{constructor(e,s={config:{}},r){var n,i;if(this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=_e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new gn(this,Ke.join,this.params,this.timeout),this.rejoinTimer=new El(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_e.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ke.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Vs(this),this.broadcastEndpointURL=Al(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var r,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==_e.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&n!==void 0?n:[],c=!!this.bindings[Ks.PRESENCE]&&this.bindings[Ks.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(pt.CHANNEL_ERROR,f)),this._onClose(()=>e?.(pt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket.setAuth(),f===void 0){e?.(pt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,A=(v=b?.length)!==null&&v!==void 0?v:0,R=[];for(let E=0;E<A;E++){const _=b[E],{filter:{event:x,schema:S,table:y,filter:w}}=_,I=f&&f[E];if(I&&I.event===x&&I.schema===S&&I.table===y&&I.filter===w)R.push(Object.assign(Object.assign({},_),{id:I.id}));else{this.unsubscribe(),this.state=_e.errored,e?.(pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(pt.SUBSCRIBED);return}}).receive("error",f=>{this.state=_e.errored,e?.(pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===_e.joined&&e===Ks.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_e.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ke.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new gn(this,Ke.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_e.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new gn(this,e,s,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Yh){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ke;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,s,r);if(s&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var v,b,A;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((A=(b=f.filter)===null||b===void 0?void 0:b.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var v,b,A,R,E,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const x=f.id,S=(v=f.filter)===null||v===void 0?void 0:v.event;return x&&((b=s.ids)===null||b===void 0?void 0:b.includes(x))&&(S==="*"||S?.toLocaleLowerCase()===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const x=(E=(R=f?.filter)===null||R===void 0?void 0:R.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return x==="*"||x===((_=s?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:b,table:A,commit_timestamp:R,type:E,errors:_}=v;h=Object.assign(Object.assign({},{schema:b,table:A,commit_timestamp:R,eventType:E,new:{},old:{},errors:_}),this._getPayloadRecords(v))}f.callback(h,r)})}_isClosed(){return this.state===_e.closed}_isJoined(){return this.state===_e.joined}_isJoining(){return this.state===_e.joining}_isLeaving(){return this.state===_e.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&yi.isEqual(n.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ke.close,{},e)}_onError(e){this._on(Ke.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_e.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=jo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=jo(e.columns,e.old_record)),s}}const mn=()=>{},gr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},of=[1e3,2e3,5e3,1e4],af=1e4,lf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cf{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mn,this.transport=null,this.heartbeatIntervalMs=gr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mn,this.ref=0,this.reconnectTimer=null,this.logger=mn,this.conn=null,this.sendBuffer=[],this.serializer=new Xh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...o)=>lr(async()=>{const{default:a}=await Promise.resolve().then(()=>ks);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=s?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Fn.websocket}`,this.httpEndpoint=Al(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Kh.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gh}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ws.connecting:return Bt.Connecting;case Ws.open:return Bt.Open;case Ws.closing:return Bt.Closing;default:return Bt.Closed}}isConnected(){return this.connectionState()===Bt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new yi(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Qh,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},gr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:n,payload:i,ref:o}=s,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${n} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(n,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ke.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([lf],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:zh};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(Ke.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new El(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,n,i,o,a,l,u,c;if(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Mn,this.heartbeatIntervalMs=(n=e?.heartbeatIntervalMs)!==null&&n!==void 0?n:gr.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:mn,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:(d=>of[d-1]||af),this.encode=(u=e?.encode)!==null&&u!==void 0?u:((d,h)=>h(JSON.stringify(d))),this.decode=(c=e?.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class wi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class uf extends wi{constructor(e,s,r){super(e),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qn extends wi{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var df=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const kl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>lr(async()=>{const{default:r}=await Promise.resolve().then(()=>ks);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},hf=()=>df(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield lr(()=>Promise.resolve().then(()=>ks),void 0)).Response:Response}),Hn=t=>{if(Array.isArray(t))return t.map(s=>Hn(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Hn(r)}),e},ff=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Jt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const vn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pf=(t,e,s)=>Jt(void 0,void 0,void 0,function*(){const r=yield hf();t instanceof r&&!s?.noResolveJson?t.json().then(n=>{const i=t.status||500,o=n?.statusCode||i+"";e(new uf(vn(n),i,o))}).catch(n=>{e(new qn(vn(n),n))}):e(new qn(vn(t),t))}),gf=(t,e,s,r)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"||!r?n:(ff(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(r)):n.body=r,e?.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),s))};function cr(t,e,s,r,n,i){return Jt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,gf(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>pf(l,a,r))})})}function Ur(t,e,s,r){return Jt(this,void 0,void 0,function*(){return cr(t,"GET",e,s,r)})}function rt(t,e,s,r,n){return Jt(this,void 0,void 0,function*(){return cr(t,"POST",e,r,n,s)})}function Wn(t,e,s,r,n){return Jt(this,void 0,void 0,function*(){return cr(t,"PUT",e,r,n,s)})}function mf(t,e,s,r){return Jt(this,void 0,void 0,function*(){return cr(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Ol(t,e,s,r,n){return Jt(this,void 0,void 0,function*(){return cr(t,"DELETE",e,r,n,s)})}var vf=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class _f{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return vf(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}}var yf=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class wf{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}asStream(){return new _f(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.execute().then(e,s)}execute(){return yf(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}}var Ue=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const bf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},No={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xf{constructor(e,s={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=r,this.fetch=kl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,r,n){return Ue(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},No),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n?.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),d=yield(e=="PUT"?Wn:rt)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}upload(e,s,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return Ue(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:No.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield Wn(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s?.upsert&&(n["x-upsert"]="true");const i=yield rt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new wi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}update(e,s,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}copy(e,s,r){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return Ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield rt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return Ue(this,void 0,void 0,function*(){try{const n=yield rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}download(e,s){const n=typeof s?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(s?.transform||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>Ur(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new wf(l,this.shouldThrowOnError)}info(e){return Ue(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Ur(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Hn(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}exists(e){return Ue(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield mf(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r)&&r instanceof qn){const n=r.originalError;if([400,404].includes(n?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s?.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof s?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(s?.transform||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}list(e,s,r){return Ue(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},bf),s),{prefix:e||""});return{data:yield rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}listV2(e,s){return Ue(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield rt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Ef="2.75.0",Sf={"X-Client-Info":`storage-js/${Ef}`};var rs=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Af{constructor(e,s={},r,n){this.shouldThrowOnError=!1;const i=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sf),s),this.fetch=kl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return rs(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}getBucket(e){return rs(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}createBucket(e){return rs(this,arguments,void 0,function*(s,r={public:!1}){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return rs(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return rs(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return rs(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}}class kf extends Af{constructor(e,s={},r,n){super(e,s,r,n)}from(e){return new xf(this.url,this.headers,e,this.fetch)}}const Of="2.75.0";let js="";typeof Deno<"u"?js="deno":typeof document<"u"?js="web":typeof navigator<"u"&&navigator.product==="ReactNative"?js="react-native":js="node";const Tf={"X-Client-Info":`supabase-js-${js}/${Of}`},Cf={headers:Tf},Rf={schema:"public"},Pf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},If={};var jf=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const $f=t=>{let e;return t?e=t:typeof fetch>"u"?e=vl:e=fetch,(...s)=>e(...s)},Uf=()=>typeof Headers>"u"?_l:Headers,Nf=(t,e,s)=>{const r=$f(s),n=Uf();return(i,o)=>jf(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Df=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Lf(t){return t.endsWith("/")?t:t+"/"}function Mf(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(s=d?.headers)!==null&&s!==void 0?s:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Df(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Ff(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Lf(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Tl="2.75.0",ds=30*1e3,Vn=3,_n=Vn*ds,Bf="http://localhost:9999",qf="supabase.auth.token",Hf={"X-Client-Info":`gotrue-js/${Tl}`},Kn="X-Supabase-Api-Version",Cl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wf=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vf=600*1e3;class er extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function H(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Kf extends er{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Jf(t){return H(t)&&t.name==="AuthApiError"}class qt extends er{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class jt extends er{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class St extends jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zf(t){return H(t)&&t.name==="AuthSessionMissingError"}class ns extends jt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mr extends jt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vr extends jt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gf(t){return H(t)&&t.name==="AuthImplicitGrantRedirectError"}class Do extends jt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jn extends jt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function yn(t){return H(t)&&t.name==="AuthRetryableFetchError"}class Lo extends jt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class zn extends jt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mo=` 	
\r=`.split(""),Qf=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Mo.length;e+=1)t[Mo[e].charCodeAt(0)]=-2;for(let e=0;e<Nr.length;e+=1)t[Nr[e].charCodeAt(0)]=e;return t})();function Fo(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Nr[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Nr[r]),e.queuedBits-=6}}function Rl(t,e,s){const r=Qf[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Bo(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Zf(o,r,s)};for(let o=0;o<t.length;o+=1)Rl(t.charCodeAt(o),n,i);return e.join("")}function Yf(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Xf(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Yf(r,e)}}function Zf(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function ys(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Rl(t.charCodeAt(n),s,r);return new Uint8Array(e)}function ep(t){const e=[];return Xf(t,s=>e.push(s)),new Uint8Array(e)}function Ht(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>Fo(n,s,r)),Fo(null,s,r),e.join("")}function tp(t){return Math.round(Date.now()/1e3)+t}function sp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Me=()=>typeof window<"u"&&typeof document<"u",Nt={tested:!1,writable:!1},Pl=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nt.tested)return Nt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Nt.tested=!0,Nt.writable=!0}catch{Nt.tested=!0,Nt.writable=!1}return Nt.writable};function rp(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Il=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>lr(async()=>{const{default:r}=await Promise.resolve().then(()=>ks);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},np=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",hs=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Dt=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Et=async(t,e)=>{await t.removeItem(e)};class en{constructor(){this.promise=new en.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}en.promiseConstructor=Promise;function wn(t){const e=t.split(".");if(e.length!==3)throw new zn("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Wf.test(e[r]))throw new zn("JWT not in base64url format");return{header:JSON.parse(Bo(e[0])),payload:JSON.parse(Bo(e[1])),signature:ys(e[2]),raw:{header:e[0],payload:e[1]}}}async function ip(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function op(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function ap(t){return("0"+t.toString(16)).substr(-2)}function lp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,ap).join("")}async function cp(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function up(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await cp(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function is(t,e,s=!1){const r=lp();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await hs(t,`${e}-code-verifier`,n);const i=await up(r);return[i,r===i?"plain":"s256"]}const dp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hp(t){const e=t.headers.get(Kn);if(!e||!e.match(dp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function fp(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pp(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gp=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function os(t){if(!gp.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bn(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qo(t){return JSON.parse(JSON.stringify(t))}var mp=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const Mt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vp=[502,503,504];async function Ho(t){var e;if(!np(t))throw new Jn(Mt(t),0);if(vp.includes(t.status))throw new Jn(Mt(t),t.status);let s;try{s=await t.json()}catch(i){throw new qt(Mt(i),i)}let r;const n=hp(t);if(n&&n.getTime()>=Cl["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Lo(Mt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new St}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Lo(Mt(s),t.status,s.weak_password.reasons);throw new Kf(Mt(s),t.status||500,r)}const _p=(t,e,s,r)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function J(t,e,s,r){var n;const i=Object.assign({},r?.headers);i[Kn]||(i[Kn]=Cl["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r?.query)!==null&&n!==void 0?n:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await yp(t,e,s+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function yp(t,e,s,r,n,i){const o=_p(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Jn(Mt(l),0)}if(a.ok||await Ho(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await Ho(l)}}function Ve(t){var e;let s=null;xp(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=tp(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Wo(t){const e=Ve(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Tt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wp(t){return{data:t,error:null}}function bp(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=mp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Vo(t){return t}function xp(t){return t.access_token&&t.refresh_token&&t.expires_in}const xn=["global","local","others"];var Ep=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Sp{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Il(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=xn[0]){if(xn.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xn.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Tt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Ep(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r?.newEmail,delete n.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:bp,redirectTo:s?.redirectTo})}catch(s){if(H(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tt})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Vo});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(v.split(";")[1].split("=")[1]);u[`${A}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(H(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){os(e);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tt})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){os(e);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Tt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){os(e);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Tt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){os(e.userId);try{const{data:s,error:r}=await J(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(H(s))return{data:null,error:s};throw s}}async _deleteFactor(e){os(e.userId),os(e.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await J(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Vo});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(v.split(";")[1].split("=")[1]);u[`${A}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(H(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await J(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await J(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(H(s))return{data:null,error:s};throw s}}}function Ko(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const as={debug:!!(globalThis&&Pl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ap extends jl{}async function kp(t,e,s){as.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),as.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){as.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{as.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw as.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ap(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(as.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Op(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $l(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Tp(t){return parseInt(t,16)}function Cp(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Rp(t){var e;const{chainId:s,domain:r,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=$l(t.address),v=c?`${c}://${r}`:r,b=t.statement?`${t.statement}
`:"",A=`${v} wants you to sign in with your Ethereum account:
${f}

${b}`;let R=`URI: ${d}
Version: ${h}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(R+=`
Expiration Time: ${n.toISOString()}`),a&&(R+=`
Not Before: ${a.toISOString()}`),l&&(R+=`
Request ID: ${l}`),u){let E=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);E+=`
- ${_}`}R+=E}return`${A}
${R}`}class fe extends Error{constructor({message:e,code:s,cause:r,name:n}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=n??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=s}}class Dr extends fe{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function Pp({error:t,options:e}){var s,r,n;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new fe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Nl(o)){if(i.rp.id!==o)return new fe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ip({error:t,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new fe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Nl(r)){if(s.rpId!==r)return new fe({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var Ul=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class jp{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const $p=new jp;function Up(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:s,excludeCredentials:r}=t,n=Ul(t,["challenge","user","excludeCredentials"]),i=ys(e).buffer,o=Object.assign(Object.assign({},s),{id:ys(s.id).buffer}),a=Object.assign(Object.assign({},n),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ys(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Np(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:s}=t,r=Ul(t,["challenge","allowCredentials"]),n=ys(e).buffer,i=Object.assign(Object.assign({},r),{challenge:n});if(s&&s.length>0){i.allowCredentials=new Array(s.length);for(let o=0;o<s.length;o++){const a=s[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:ys(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Dp(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ht(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ht(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Lp(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t,r=t.getClientExtensionResults(),n=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ht(new Uint8Array(n.authenticatorData)),clientDataJSON:Ht(new Uint8Array(n.clientDataJSON)),signature:Ht(new Uint8Array(n.signature)),userHandle:n.userHandle?Ht(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Nl(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Jo(){var t,e;return!!(Me()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Mp(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Dr("Browser returned unexpected credential type",e)}:{data:null,error:new Dr("Empty credential response",e)}}catch(e){return{data:null,error:Pp({error:e,options:t})}}}async function Fp(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Dr("Browser returned unexpected credential type",e)}:{data:null,error:new Dr("Empty credential response",e)}}catch(e){return{data:null,error:Ip({error:e,options:t})}}}const Bp={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},qp={userVerification:"preferred",hints:["security-key"]};function Lr(...t){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),s=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),r={};for(const n of t)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(s(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=Lr(a,o):r[i]=Lr(o)}else r[i]=o}return r}function Hp(t,e){return Lr(Bp,t,e||{})}function Wp(t,e){return Lr(qp,t,e||{})}class Vp{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:r,signal:n},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!o)return{data:null,error:a};const l=n??$p.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Hp(o.webauthn.credential_options.publicKey,i?.create),{data:c,error:d}=await Mp({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=Wp(o.webauthn.credential_options.publicKey,i?.request),{data:c,error:d}=await Fp(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return H(o)?{data:null,error:o}:{data:null,error:new qt("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:n}},i){if(!s)return{data:null,error:new er("rpId is required for WebAuthn authentication")};try{if(!Jo())return{data:null,error:new qt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:r},signal:n},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:s,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return H(o)?{data:null,error:o}:{data:null,error:new qt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:n},i){if(!s)return{data:null,error:new er("rpId is required for WebAuthn registration")};try{if(!Jo())return{data:null,error:new qt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c?.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:n},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:s,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return H(o)?{data:null,error:o}:{data:null,error:new qt("Unexpected error in register",o)}}}}Op();const Kp={url:Bf,storageKey:qf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hf,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zo(t,e,s){return await s()}const ls={};class tr{get jwks(){var e,s;return(s=(e=ls[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){ls[this.storageKey]=Object.assign(Object.assign({},ls[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=ls[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ls[this.storageKey]=Object.assign(Object.assign({},ls[this.storageKey]),{cachedAt:e})}constructor(e){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tr.nextInstanceID,tr.nextInstanceID+=1,this.instanceID>0&&Me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Kp),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Sp({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Il(n.fetch),this.lock=n.lock||zo,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Me()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=kp:this.lock=zo,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Vp(this)},this.persistSession?(n.storage?this.storage=n.storage:Pl()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ko(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Ko(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Tl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=rp(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Me()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Gf(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return H(s)?{error:s}:{error:new qt("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e?.options)===null||n===void 0?void 0:n.captchaToken}},xform:Ve}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await is(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:c,password:d,data:(s=h?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:v},xform:Ve})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h?.data)!==null&&r!==void 0?r:{},channel:(n=h?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Ve})}else throw new mr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Wo})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Wo})}else throw new mr("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ns}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,r,n,i,o,a,l,u,c,d,h;let f,v;if("message"in e)f=e.message,v=e.signature;else{const{chain:b,wallet:A,statement:R,options:E}=e;let _;if(Me())if(typeof A=="object")_=A;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")_=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=A}const x=new URL((s=E?.url)!==null&&s!==void 0?s:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const y=$l(S[0]);let w=(r=E?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!w){const F=await _.request({method:"eth_chainId"});w=Tp(F)}const I={domain:x.host,address:y,statement:R,uri:x.href,version:"1",chainId:w,nonce:(n=E?.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=E?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=E?.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=Rp(I),v=await _.request({method:"personal_sign",params:[Cp(f),y]})}try{const{data:b,error:A}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ve});if(A)throw A;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ns}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:A})}catch(b){if(H(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(e){var s,r,n,i,o,a,l,u,c,d,h,f;let v,b;if("message"in e)v=e.message,b=e.signature;else{const{chain:A,wallet:R,statement:E,options:_}=e;let x;if(Me())if(typeof R=="object")x=R;else{const y=window;if("solana"in y&&typeof y.solana=="object"&&("signIn"in y.solana&&typeof y.solana.signIn=="function"||"signMessage"in y.solana&&typeof y.solana.signMessage=="function"))x=y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=R}const S=new URL((s=_?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in x&&x.signIn){const y=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),E?{statement:E}:null));let w;if(Array.isArray(y)&&y[0]&&typeof y[0]=="object")w=y[0];else if(y&&typeof y=="object"&&"signedMessage"in y&&"signature"in y)w=y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in w&&"signature"in w&&(typeof w.signedMessage=="string"||w.signedMessage instanceof Uint8Array)&&w.signature instanceof Uint8Array)v=typeof w.signedMessage=="string"?w.signedMessage:new TextDecoder().decode(w.signedMessage),b=w.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(n=(r=_?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=_?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((a=_?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(c=_?.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(w=>`- ${w}`)]:[]].join(`
`);const y=await x.signMessage(new TextEncoder().encode(v),"utf8");if(!y||!(y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=y}}try{const{data:A,error:R}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Ht(b)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ve});if(R)throw R;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new ns}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:R})}catch(A){if(H(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(e){const s=await Dt(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ve});if(await Et(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ns}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(H(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Ve}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ns}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await is(this.storage,this.storageKey));const{error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:c}}throw new mr("You must provide either an email or phone number.")}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Ve});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await is(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:wp})}catch(i){if(H(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new St;const{error:n}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(H(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await J(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await J(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new mr("You must provide either an email or phone number and a type")}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Dt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<_n:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Dt(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=bn()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new St}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Tt})})}catch(s){if(H(s))return zf(s)&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new St;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await is(this.storage,this.storageKey));const{data:u,error:c}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Tt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new St;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=wn(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(H(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new St;const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Me())throw new vr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Do("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Do("No code detected.");const{data:E,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new vr("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const f=h-c;f*1e3<=ds&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:b,error:A}=await this._getUser(i);if(A)throw A;const R={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(r){if(H(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Dt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Jf(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=sp(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await is(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(H(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Me()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(H(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var r;try{const{error:n,data:{session:i}}=s;if(n)throw n;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,d=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ve}),{data:h,error:f}=d;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new ns}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:f})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await op(async n=>(n>0&&await ip(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ve})),(n,i)=>{const o=200*Math.pow(2,n);return i&&yn(i)&&Date.now()+o-r<ds})}catch(r){if(this._debug(s,"error",r),H(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Me()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Dt(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Dt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await hs(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o?.user)!==null&&e!==void 0?e:bn()}else if(n&&!n.user&&!n.user){const o=await Dt(this.storage,this.storageKey+"-user");o&&o?.user?(n.user=o.user,await Et(this.storage,this.storageKey+"-user"),await hs(this.storage,this.storageKey,n)):n.user=bn()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<_n;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${_n}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),yn(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&o?.user?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new St;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new en;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new St;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),H(i)){const o={data:null,error:i};return yn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await hs(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=qo(n);await hs(this.storage,this.storageKey,i)}else{const n=qo(s);await hs(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Et(this.storage,this.storageKey),await Et(this.storage,this.storageKey+"-code-verifier"),await Et(this.storage,this.storageKey+"-user"),this.userStorage&&await Et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Me()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ds);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/ds);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ds}ms, refresh threshold is ${Vn} ticks`),n<=Vn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await is(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r?.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r?.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await J(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&l.type==="totp"&&(!((n=l?.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Dp(e.webauthn.credential_response):Lp(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await J(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(s){if(H(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const o=await J(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Up(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Np(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(H(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=s?.factors)!==null&&e!==void 0?e:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=wn(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(a=>a.kid===e);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+Vf>n)return r;const{data:i,error:o}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:f,error:v}=await this.getSession();if(v||!f.session)return{data:null,error:v};r=f.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=wn(r);s?.allowExpired||fp(i.exp);const u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!u){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:n,signature:o},error:null}}const c=pp(n.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,ep(`${a}.${l}`)))throw new zn("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}}tr.nextInstanceID=0;const Jp=tr;class zp extends Jp{constructor(e){super(e)}}var Gp=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Qp{constructor(e,s,r){var n,i,o;this.supabaseUrl=e,this.supabaseKey=s;const a=Ff(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Rf,realtime:If,auth:Object.assign(Object.assign({},Pf),{storageKey:l}),global:Cf},c=Mf(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Nf(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Vh(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new kf(this.storageUrl.href,this.headers,this.fetch,r?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new jh(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return Gp(this,void 0,void 0,function*(){var e,s;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zp({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:i,flowType:a,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new cf(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r?.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tn=(t,e,s)=>new Qp(t,e,s);function Yp(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Yp()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xe=[];for(let t=0;t<256;++t)xe.push((t+256).toString(16).slice(1));function Xp(t,e=0){return(xe[t[e+0]]+xe[t[e+1]]+xe[t[e+2]]+xe[t[e+3]]+"-"+xe[t[e+4]]+xe[t[e+5]]+"-"+xe[t[e+6]]+xe[t[e+7]]+"-"+xe[t[e+8]]+xe[t[e+9]]+"-"+xe[t[e+10]]+xe[t[e+11]]+xe[t[e+12]]+xe[t[e+13]]+xe[t[e+14]]+xe[t[e+15]]).toLowerCase()}let En;const Zp=new Uint8Array(16);function eg(){if(!En){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");En=crypto.getRandomValues.bind(crypto)}return En(Zp)}const tg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Go={randomUUID:tg};function sg(t,e,s){t=t||{};const r=t.random??t.rng?.()??eg();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Xp(r)}function bi(t,e,s){return Go.randomUUID&&!t?Go.randomUUID():sg(t)}const rg={key:0},ng={key:1},ig={key:0,class:"error"},og={key:1},ag={key:0},lg={class:"products-list"},cg={class:""},ug=["src","alt"],dg=["onClick"],hg=["onClick"],fg=["src","alt"],pg=["onClick"],gg=["onClick"],mg="https://uvjpgijmjbpbhwqrhvrg.supabase.co",vg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV2anBnaWptamJwYmh3cXJodnJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MTEzNzQsImV4cCI6MjA3NTQ4NzM3NH0.tmrOcck492sPMmddYpBBNqSQXey2os17tfKSVwLcT5I",Qo="https://uvjpgijmjbpbhwqrhvrg.supabase.co/storage/v1/object/public",_g={__name:"TestView",setup(t){const e=tn(mg,vg),s=ee([]),r=ee(!0),n=ee(null),i=ee(null),o=ee([]),a=ee({}),l=ee(""),u=S=>{console.log("products",s.value),s.value.forEach(y=>y.isEdit=!1),S.isEdit=!0,a.value={...S},console.log("tempEdit:",a.value),l.value=S.id},c=async S=>{let y="";if(!i.value)await v({id:a.value.id,title:a.value.title,price:a.value.price,image_path:S.image_path});else{const w=S.image_path?.split("/").pop()??"";console.log("imgName",w),_(w),y=bi()+".jpg",console.log("randomName",y),R(y),await v({id:a.value.id,title:a.value.title,price:a.value.price,image_path:`products-images/${y}`})}s.value=s.value.map(w=>{if(w.id===S.id){let I={id:a.value.id,title:a.value.title,price:a.value.price,image_path:S.image_path,src:S.src,isEdit:!1};return i.value&&(I={id:a.value.id,title:a.value.title,price:a.value.price,image_path:`${y}`,src:`${Qo}/products-images/${y}?t=${Date.now()}`,isEdit:!1}),console.log("obj",I),I}return w})},d=async(S,y)=>{if(!confirm("確定要刪除？"))return;const w=S?.split("/").pop()??"";console.log("imgName",w);try{const{data:I,error:F}=await _(w);if(F){console.error("刪除檔案失敗",F),alert(`刪除檔案失敗：${F.message??F}`);return}console.log("刪除檔案成功",I),error||(await b(y),s.value=s.value.filter(G=>G.id!==y),alert("刪除成功"))}catch(I){console.error("delHandler error",I),alert(`刪除發生錯誤：${I?.message??I}`)}},h=S=>{i.value=S.target.files?.[0]??null},f=async()=>{const{data:S,error:y}=await e.from("products").select("*").order("id",{ascending:!1});if(y)throw y;return S},v=async({id:S,title:y,price:w,image_path:I})=>{const{data:F,error:G}=await e.from("products").update({title:y,price:w,image_path:I}).eq("id",S);if(G)throw G;return F},b=async S=>{const{data:y,error:w}=await e.from("products").delete().eq("id",S);if(w)throw w;return y},A=async(S,y)=>{const{data:w,error:I}=await e.storage.from("products-images").upload(y,S,{upsert:!0});return I?console.error("上傳失敗",I):console.log("上傳成功",w),{data:w,error:I}},R=async(S,y)=>{if(!i.value){alert("請先選擇檔案");return}try{const{data:w,error:I}=await e.auth.getUser();if(I&&console.warn("getUser error",I),!w?.user&&!confirm("確定更換新圖片？"))return;const G=await A(i.value,S);G?.error?(console.error("上傳失敗",G.error),alert(`上傳失敗：${G.error.message??JSON.stringify(G.error)}`)):(alert("上傳完成 (測試)"),i.value=null)}catch(w){console.error("upload handler error",w),alert(`上傳發生錯誤：${w?.message??w}`)}},E=async(S="")=>{const{data:y,error:w}=await e.storage.from("products-images").list(S);return w?(console.error("listFiles error",w),{data:null,error:w}):{data:y,error:null}},_=async S=>{const{data:y,error:w}=await e.storage.from("products-images").remove([S]);return w?console.error("刪除失敗",w):console.log("刪除成功",y),{data:y,error:w}},x=async()=>{const S=await E("");if(S.error){console.error("refreshFiles error",S.error),alert(`列出檔案失敗：${S.error.message??S.error}`);return}console.log("listFiles",S.data),o.value=S.data??[]};return x(),nr(async()=>{r.value=!0,n.value=null;try{const S=await f();s.value=S??[],s.value=s.value.map(y=>({...y,src:`${Qo}/${y.image_path}`})),console.log("products",s.value);try{const y=await e.auth.getSession();console.log("session",y);const w=await e.auth.getUser();console.log("user",w)}catch(y){console.warn("get session/user failed (likely no session)",y)}try{await x()}catch(y){console.warn("refreshFiles failed",y)}}catch(S){console.error("Failed to load products",S),n.value=S?.message||String(S)}finally{r.value=!1}}),(S,y)=>(Q(),Z(be,null,[y[2]||(y[2]=U("h1",null,"Product",-1)),r.value?(Q(),Z("div",rg,"載入中…")):(Q(),Z("div",ng,[n.value?(Q(),Z("div",ig,"發生錯誤："+Wt(n.value),1)):(Q(),Z("div",og,[s.value.length===0?(Q(),Z("div",ag,"目前沒有產品。")):Yr("",!0),U("ul",lg,[(Q(!0),Z(be,null,ja(s.value,w=>(Q(),Z("li",{key:w.id,class:"product"},[w?.isEdit===!1||w?.isEdit===void 0?(Q(),Z(be,{key:0},[U("strong",null,"標題:"+Wt(w.title),1),U("div",null,"價格："+Wt(w.price),1),U("div",cg,[(Q(),Z("img",{key:w.src,src:w.src,alt:w.src,srcset:""},null,8,ug))]),U("div",null,[U("button",{type:"button",onClick:I=>u(w)},"編輯",8,dg),U("button",{type:"button",onClick:I=>d(w?.image_path,w?.id)},"刪除",8,hg)])],64)):(Q(),Z(be,{key:1},[Ct(U("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=I=>a.value.title=I)},null,512),[[xs,a.value.title]]),Ct(U("input",{type:"number","onUpdate:modelValue":y[1]||(y[1]=I=>a.value.price=I)},null,512),[[xs,a.value.price]]),U("img",{src:a.value.src,alt:a.value.src,srcset:""},null,8,fg),U("input",{type:"file",onChange:h},null,32),U("button",{type:"button",onClick:I=>c(w)},"儲存",8,pg),U("button",{type:"button",onClick:()=>{w.isEdit=!1}},"取消",8,gg)],64))]))),128))])]))]))],64))}},yg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABY0lEQVR4AezYS2rDMBAG4LH7Iqv2CCrFi+ycI+QoPUJv0CPkRjlCvAoFQ6sjZNeCadQRoRDyQiPNP3iRwWPZkgUfkrGEaxp5XIGlE2Q6gq5pWinYBOice3pupquKblfuZbqQIOFAx7jqbrJkVMtJdR0eY5maUKA7wDGq2w4/b1wmHzDgKVwYvufe+02yjh+EALVw7CN1oCZOHaiNUwUicGpAFE4FiMQVA9G4IqAFLhtohcsCWuLEQGucGMi7kgV3ajnj0eWsrbGjJEVLXdiSaKEnhRAB6ffhnajqaBctj+jS8ZZqd4s5i4Ded5sw3M/JECkCEoc1UgxkI1kis4DHyFhDkHcyG0gcFiNZBGQjfLqLgWikChCJVAOikKpABFIdqI2EADWRMOA5JN1MeMMRW9MSCoyEw4/5qP5uRWDMiPzq17NA1eyz/3iNdakJH8F9iO/X/3vJ/eqL16bAi5IzjaMH/gEAAP//XePKawAAAAZJREFUAwBKOARgQW3DQwAAAABJRU5ErkJggg==",wg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABZElEQVR4AezYy2nDQBAG4JHywqekhM1Bh9zkEtxR0kFKSAnpJCVYp/hgjLcE32wQ9noGYTAGg/7dmcEHLzt6IK3m0wqkQTXdeLsDSx8QPIOhadrSpMh4CPjefPxW9Djn9TyE8IYkyj0XAqYDbWhobfU0+fNAQkDav3wTVR0NzQUJAWPsNql/npEjEgISN28kDGQjeSKzgJ7IbKAXsgjogSwGWiNVgJZINaAVUhVogVQHaiNNgJpIM+A1JD1MuOCQo+PCFDgQpEJLwyYv6zq98mp0NwVKvSh1I2taDundod99ycbYMAMGrrgvcanfzmKMMqVjfWQC1MLJXagDNXGKQLkUkTZOrqo2gxY4NaAVTgVoiSsGWuOKgB64bKAXLgvoiYOB3jgYyN/WHx7Uckjvcr6tMhAJ6EV99nfLBSc3AgHjavGZqJqul4tpBKsSSZYTEFASxOX/6feb7JoHDDQXXSS4eeARAAD//3GJuNYAAAAGSURBVAMAUjwJYGZnaqIAAAAASUVORK5CYII=",bg={class:"w-[196px] flex flex-col gap-y-[16px] max-sm:hidden leading-[150%] font-[500] text-[16px] tracking-[0.8px] text-[#212529]"},xg={__name:"ShoeType",setup(t){const e=ar(),s=Se(()=>e.params.category||"all"),r=Se(()=>e.params.sex||"women");return console.log("category:",s.value),console.log("sex:",r.value),(n,i)=>{const o=ws("router-link");return Q(),Z("div",bg,[U("div",{class:it(["h-[48px] w-[172px] flex items-center",{"text-[#57A203]":s.value==="all"}])},[X(o,{to:`/product/${Je(e).params.sex}/all`},{default:ke(()=>[...i[0]||(i[0]=[ge("所有產品",-1)])]),_:1},8,["to"])],2),U("div",{class:it(["h-[48px] w-[172px] flex items-center",{"text-[#57A203]":s.value==="running"}])},[X(o,{to:`/product/${Je(e).params.sex}/running`},{default:ke(()=>[...i[1]||(i[1]=[ge("慢跑鞋",-1)])]),_:1},8,["to"])],2),U("div",{class:it(["h-[48px] w-[172px] flex items-center",{"text-[#57A203]":s.value==="skateboarding"}])},[X(o,{to:`/product/${Je(e).params.sex}/skateboarding`},{default:ke(()=>[...i[2]||(i[2]=[ge("滑板鞋",-1)])]),_:1},8,["to"])],2),U("div",{class:it(["h-[48px] w-[172px] flex items-center",{"text-[#57A203]":s.value==="loafers"}])},[X(o,{to:`/product/${Je(e).params.sex}/loafers`},{default:ke(()=>[...i[3]||(i[3]=[ge("後底鞋",-1)])]),_:1},8,["to"])],2),U("div",{class:it(["h-[48px] w-[172px] flex items-center",{"text-[#57A203]":s.value==="limited"}])},[X(o,{to:`/product/${Je(e).params.sex}/limited`},{default:ke(()=>[...i[4]||(i[4]=[ge("限定 / 聯名企劃",-1)])]),_:1},8,["to"])],2)])}}},Eg={class:"flex w-full px-5 mb-[24px]"},Sg={class:"w-[1296px] m-0 mx-auto text-[28px] font-[700] leading-[120%] tracking-[1.4px] text-[#212529]"},Ag={key:0},kg={key:1},Og={__name:"ShoeGender",setup(t){const e=ar(),s=Se(()=>e.params.category||"all"),r=Se(()=>e.params.sex||"women");return console.log("category:",s.value),console.log("sex:",r.value),(n,i)=>(Q(),Z("div",Eg,[U("div",Sg,[r.value==="women"?(Q(),Z("span",Ag,"女")):r.value==="men"?(Q(),Z("span",kg,"男")):Yr("",!0),i[0]||(i[0]=ge(" 鞋 ",-1))])]))}},Tg={key:0},Cg={key:1,class:"max-w-[1076px] w-full mb-[50px] max-sm:mb-[16px]"},Rg={class:"products-list w-full flex content-stretch flex-wrap gap-x-[24px] max-sm:gap-x-[12px] gap-y-[48px] max-sm:gap-y-[24px] !mt-[0px] mb-[48px]"},Pg={class:"mb-[12px] max-w-sm mx-auto"},Ig=["src","alt"],jg={class:"flex flex-col gap-y-[4px]"},$g={class:"font-[700]"},Ug={class:"flex gap-x-[8px]"},Ng=["onClick"],Dg=["onClick"],Lg=["src","alt"],Mg=["onClick"],Fg=["onClick"],Bg={key:0,class:"flex justify-center items-center gap-x-[8px] font-[400] text-[#212529] leading-[150%]"},qg="https://uvjpgijmjbpbhwqrhvrg.supabase.co",Hg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV2anBnaWptamJwYmh3cXJodnJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MTEzNzQsImV4cCI6MjA3NTQ4NzM3NH0.tmrOcck492sPMmddYpBBNqSQXey2os17tfKSVwLcT5I",Yo="https://uvjpgijmjbpbhwqrhvrg.supabase.co/storage/v1/object/public",Wg={__name:"CardView",setup(t){const e=ar(),s=tn(qg,Hg),r=ee([]),n=ee(!0),i=ee(null),o=ee(null),a=ee([]),l=ee({}),u=ee(""),c=y=>{console.log("products",r.value),r.value.forEach(w=>w.isEdit=!1),y.isEdit=!0,l.value={...y},console.log("tempEdit:",l.value),u.value=y.id},d=async y=>{let w="";if(!o.value)await b({id:l.value.id,title:l.value.title,price:l.value.price,image_path:y.image_path});else{const I=y.image_path?.split("/").pop()??"";console.log("imgName",I),x(I),w=bi()+".jpg",console.log("randomName",w),E(w),await b({id:l.value.id,title:l.value.title,price:l.value.price,image_path:`products-images/${w}`})}r.value=r.value.map(I=>{if(I.id===y.id){let F={id:l.value.id,title:l.value.title,price:l.value.price,image_path:y.image_path,src:y.src,isEdit:!1};return o.value&&(F={id:l.value.id,title:l.value.title,price:l.value.price,image_path:`${w}`,src:`${Yo}/products-images/${w}?t=${Date.now()}`,isEdit:!1}),console.log("obj",F),F}return I})},h=async(y,w)=>{if(!confirm("確定要刪除？"))return;const I=y?.split("/").pop()??"";console.log("imgName",I);try{const{data:F,error:G}=await x(I);if(G){console.error("刪除檔案失敗",G),alert(`刪除檔案失敗：${G.message??G}`);return}console.log("刪除檔案成功",F),error||(await A(w),r.value=r.value.filter(ve=>ve.id!==w),alert("刪除成功"))}catch(F){console.error("delHandler error",F),alert(`刪除發生錯誤：${F?.message??F}`)}},f=y=>{o.value=y.target.files?.[0]??null},v=async()=>{const y=s.from("products").select("*").eq("gender",e.params.sex);e.params.category!=="all"&&y.eq("type",e.params.category);const{data:w,error:I}=await y.order("id",{ascending:!1});if(I)throw I;return console.log("讀取產品資料 data:",w),w},b=async({id:y,title:w,price:I,image_path:F})=>{const{data:G,error:ve}=await s.from("products").update({title:w,price:I,image_path:F}).eq("id",y);if(ve)throw ve;return G},A=async y=>{const{data:w,error:I}=await s.from("products").delete().eq("id",y);if(I)throw I;return w},R=async(y,w)=>{const{data:I,error:F}=await s.storage.from("products-images").upload(w,y,{upsert:!0});return F?console.error("上傳失敗",F):console.log("上傳成功",I),{data:I,error:F}},E=async(y,w)=>{if(!o.value){alert("請先選擇檔案");return}try{const{data:I,error:F}=await s.auth.getUser();if(F&&console.warn("getUser error",F),!I?.user&&!confirm("確定更換新圖片？"))return;const ve=await R(o.value,y);ve?.error?(console.error("上傳失敗",ve.error),alert(`上傳失敗：${ve.error.message??JSON.stringify(ve.error)}`)):(alert("上傳完成 (測試)"),o.value=null)}catch(I){console.error("upload handler error",I),alert(`上傳發生錯誤：${I?.message??I}`)}},_=async(y="")=>{const{data:w,error:I}=await s.storage.from("products-images").list(y);return I?(console.error("listFiles error",I),{data:null,error:I}):{data:w,error:null}},x=async y=>{const{data:w,error:I}=await s.storage.from("products-images").remove([y]);return I?console.error("刪除失敗",I):console.log("刪除成功",w),{data:w,error:I}},S=async()=>{const y=await _("");if(y.error){console.error("refreshFiles error",y.error),alert(`列出檔案失敗：${y.error.message??y.error}`);return}console.log("listFiles",y.data),a.value=y.data??[]};return S(),nr(async()=>{n.value=!0,i.value=null;try{const y=await v();r.value=y??[],r.value=r.value.map(w=>({...w,src:`${Yo}/${w.image_path}`})),console.log("products",r.value);try{const w=await s.auth.getSession();console.log("session",w);const I=await s.auth.getUser();console.log("user",I)}catch(w){console.warn("get session/user failed (likely no session)",w)}try{await S()}catch(w){console.warn("refreshFiles failed",w)}}catch(y){console.error("Failed to load products",y),i.value=y?.message||String(y)}finally{n.value=!1}}),Fs(()=>e.params.category,()=>{v()}),(y,w)=>{const I=ws("router-link");return n.value?(Q(),Z("div",Tg,"載入中…")):(Q(),Z("div",Cg,[U("ul",Rg,[(Q(!0),Z(be,null,ja(r.value,F=>(Q(),Z("li",{key:F.id,class:"product w-[calc(33.3%-16px)] max-sm:w-[calc(50%-6px)] h-[342px] flex flex-col justify-end !border-b-0"},[F?.isEdit===!1||F?.isEdit===void 0?(Q(),Z(be,{key:0},[U("div",Pg,[(Q(),Z("img",{class:"w-full h-auto max-h-[260px] object-cover",key:F.src,src:F.src,alt:F.src,srcset:""},null,8,Ig))]),U("div",jg,[U("strong",$g,Wt(F.title),1),U("div",null,"NT$"+Wt(F.price.toLocaleString()),1),U("div",Ug,[X(I,{to:`/productDeteil/${F.id}`},{default:ke(()=>[...w[2]||(w[2]=[ge("查看詳情",-1)])]),_:1},8,["to"]),U("button",{type:"button",onClick:G=>c(F)},"編輯",8,Ng),U("button",{type:"button",onClick:G=>h(F?.image_path,F?.id)},"刪除",8,Dg)])])],64)):(Q(),Z(be,{key:1},[U("img",{src:l.value.src,alt:l.value.src,srcset:""},null,8,Lg),Ct(U("input",{type:"text","onUpdate:modelValue":w[0]||(w[0]=G=>l.value.title=G)},null,512),[[xs,l.value.title]]),Ct(U("input",{type:"number","onUpdate:modelValue":w[1]||(w[1]=G=>l.value.price=G)},null,512),[[xs,l.value.price]]),U("input",{type:"file",onChange:f},null,32),U("button",{type:"button",onClick:G=>d(F)},"儲存",8,Mg),U("button",{type:"button",onClick:()=>{F.isEdit=!1}},"取消",8,Fg)],64))]))),128))]),r.value.length>0?(Q(),Z("div",Bg,[...w[3]||(w[3]=[hi('<a href=""><img class="w-[20px] h-[20px]" src="'+yg+'" alt="" srcset=""></a><a href="" class="p-[12px] w-[40px] h-[40px] flex justify-center items-center bg-[#C0FA73]">1</a><a href="" class="p-[12px] w-[40px] h-[40px] flex justify-center items-center">2</a><a href="" class="p-[12px] w-[40px] h-[40px] flex justify-center items-center">3</a><a href="" class="p-[12px] w-[40px] h-[40px] flex justify-center items-center">...</a><a href="" class="p-[12px] w-[40px] h-[40px] flex justify-center items-center">10</a><a href=""><img class="w-[20px] h-[20px]" src="'+wg+'" alt="" srcset=""></a>',7)])])):Yr("",!0)]))}}},Vg={class:"flex w-full px-5 mb-[24px]"},Kg={class:"flex w-[1296px] m-0 mx-auto gap-[12px] text-[#6C757D]"},Jg={key:0},zg={key:1},Gg={class:"flex w-full px-5 mb-[24px]"},Qg={class:"flex w-[1296px] m-0 mx-auto gap-[24px]"},Yg="https://uvjpgijmjbpbhwqrhvrg.supabase.co",Xg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV2anBnaWptamJwYmh3cXJodnJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MTEzNzQsImV4cCI6MjA3NTQ4NzM3NH0.tmrOcck492sPMmddYpBBNqSQXey2os17tfKSVwLcT5I",Zg="https://uvjpgijmjbpbhwqrhvrg.supabase.co/storage/v1/object/public",em={__name:"ProductView",setup(t){const e=ar(),s=Se(()=>e.params.sex||"all");console.log("sex:",s.value);const r=Se(()=>e.params.category||"all");console.log("category:",r.value);const n=tn(Yg,Xg),i=ee([]),o=ee(!0),a=ee(null);ee(null);const l=ee([]);ee({}),ee("");const u=async()=>{const{data:h,error:f}=await n.from("products").select("*").order("id",{ascending:!1});if(f)throw f;return h},c=async(h="")=>{const{data:f,error:v}=await n.storage.from("products-images").list(h);return v?(console.error("listFiles error",v),{data:null,error:v}):{data:f,error:null}},d=async()=>{const h=await c("");if(h.error){console.error("refreshFiles error",h.error),alert(`列出檔案失敗：${h.error.message??h.error}`);return}console.log("listFiles",h.data),l.value=h.data??[]};return d(),nr(async()=>{o.value=!0,a.value=null;try{const h=await u();i.value=h??[],i.value=i.value.map(f=>({...f,src:`${Zg}/${f.image_path}`})),console.log("products",i.value);try{const f=await n.auth.getSession();console.log("session",f);const v=await n.auth.getUser();console.log("user",v)}catch(f){console.warn("get session/user failed (likely no session)",f)}try{await d()}catch(f){console.warn("refreshFiles failed",f)}}catch(h){console.error("Failed to load products",h),a.value=h?.message||String(h)}finally{o.value=!1}}),(h,f)=>(Q(),Z(be,null,[U("div",Vg,[U("div",Kg,[f[1]||(f[1]=U("span",null,"首頁",-1)),f[2]||(f[2]=U("span",null,"/",-1)),U("span",null,[s.value==="women"?(Q(),Z("span",Jg,"女")):s.value==="men"?(Q(),Z("span",zg,"男")):Yr("",!0),f[0]||(f[0]=ge(" 鞋",-1))]),f[3]||(f[3]=U("span",null,"/",-1)),f[4]||(f[4]=U("span",{class:"text-[#343A40]"},"所有產品",-1))])]),X(Og),U("div",Gg,[U("div",Qg,[X(xg),X(Wg)])])],64))}},tm={class:"max-w-md mx-auto mt-8 p-6 bg-white rounded-lg shadow-md space-y-4"},sm="https://uvjpgijmjbpbhwqrhvrg.supabase.co",rm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV2anBnaWptamJwYmh3cXJodnJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MTEzNzQsImV4cCI6MjA3NTQ4NzM3NH0.tmrOcck492sPMmddYpBBNqSQXey2os17tfKSVwLcT5I",nm={__name:"CreateView",setup(t){const e=tn(sm,rm),s=ee(""),r=ee(0),n=ee("男"),i=ee("慢跑"),o=ee([]),a=ee(!0),l=ee(null),u=ee(null),c=ee([]),d=_=>{u.value=_.target.files?.[0]??null},h=async()=>{const{data:_,error:x}=await e.from("products").select("*").order("id",{ascending:!1});if(x)throw x;return _},f=async(_,x,S,y,w)=>{const I={title:_,price:x};S&&(I.image_path=S),y&&(I.gender=y),w&&(I.type=w),console.log("payload:",I);const{data:F,error:G}=await e.from("products").insert([I]);if(G)throw G;return F},v=async _=>{const x=`${bi()}.jpg`,{data:S,error:y}=await e.storage.from("products-images").upload(x,_);return y?console.error("上傳失敗",y):console.log("上傳成功",S),{data:S,error:y}},b=async()=>{if(!u.value){alert("請先選擇檔案");return}try{const{data:_,error:x}=await e.auth.getUser();if(x&&console.warn("getUser error",x),!_?.user&&!confirm("未登入，是否以匿名方式嘗試上傳（測試用，正式環境請勿使用）？"))return;const y=await v(u.value);if(y?.error)console.error("上傳失敗",y.error),alert(`上傳失敗：${y.error.message??JSON.stringify(y.error)}`);else{alert("上傳完成 (測試)");const w=y.data?.fullPath??"";console.log("imgFullPath",w),console.log("選項 gender, category",n.value,i.value),await f(s.value,r.value,w,n.value,i.value)}}catch(_){console.error("upload handler error",_),alert(`上傳發生錯誤：${_?.message??_}`)}},A=async(_="")=>{const{data:x,error:S}=await e.storage.from("products-images").list(_);return S?(console.error("listFiles error",S),{data:null,error:S}):{data:x,error:null}};(async _=>{const{data:x,error:S}=await e.storage.from("products-images").remove([_]);S?console.error("刪除失敗",S):console.log("刪除成功",x)})("1.jpg");const E=async()=>{const _=await A("");if(_.error){console.error("refreshFiles error",_.error),alert(`列出檔案失敗：${_.error.message??_.error}`);return}console.log("listFiles",_.data),c.value=_.data??[]};return E(),nr(async()=>{a.value=!0,l.value=null;try{const _=await h();o.value=_??[],console.log("products",o.value);try{const x=await e.auth.getSession();console.log("session",x);const S=await e.auth.getUser();console.log("user",S)}catch(x){console.warn("get session/user failed (likely no session)",x)}try{await E()}catch(x){console.warn("refreshFiles failed",x)}}catch(_){console.error("Failed to load products",_),l.value=_?.message||String(_)}finally{a.value=!1}}),(_,x)=>(Q(),Z("div",tm,[x[6]||(x[6]=U("h2",{class:"text-xl font-semibold text-gray-800"},"新增商品",-1)),Ct(U("input",{type:"text",placeholder:"商品名稱","onUpdate:modelValue":x[0]||(x[0]=S=>s.value=S),class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400"},null,512),[[xs,s.value]]),Ct(U("input",{type:"number",placeholder:"價格","onUpdate:modelValue":x[1]||(x[1]=S=>r.value=S),class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-400"},null,512),[[xs,r.value]]),Ct(U("select",{"onUpdate:modelValue":x[2]||(x[2]=S=>n.value=S),class:"w-full px-4 py-2 border border-gray-300 rounded-md"},[...x[4]||(x[4]=[U("option",{value:"men"},"男鞋",-1),U("option",{value:"women"},"女鞋",-1)])],512),[[to,n.value]]),Ct(U("select",{"onUpdate:modelValue":x[3]||(x[3]=S=>i.value=S),class:"w-full px-4 py-2 border border-gray-300 rounded-md"},[...x[5]||(x[5]=[U("option",{value:"running"},"慢跑鞋",-1),U("option",{value:"skateboarding"},"滑板鞋",-1),U("option",{value:"loafers"},"厚底鞋",-1),U("option",{value:"limited"},"限定 / 聯名",-1)])],512),[[to,i.value]]),U("input",{type:"file",onChange:d,class:"w-full px-4 py-2 border border-gray-300 rounded-md file:mr-4 file:py-2 file:px-4 file:border-0 file:rounded-md file:bg-[#E8FEC5] file:text-[#064e3b] hover:file:bg-[#064e3b] hover:file:text-[#E8FEC5]"},null,32),U("button",{onClick:b,class:"w-full bg-[#E8FEC5] text-[#06413b] hover:bg-[#06413b] hover:text-[#E8FEC5] py-2 rounded-md transition"}," 上傳 "),x[7]||(x[7]=U("img",{src:"",id:"myImg",alt:"",class:"w-full h-auto rounded-md border border-gray-200"},null,-1))]))}},im={},om={class:"flex mb-[60px]"};function am(t,e){return Q(),Z("div",om,[...e[0]||(e[0]=[U("h1",{class:"mx-auto"},"品牌故事",-1)])])}const lm=or(im,[["render",am]]),cm={class:"flex"},um={class:"mx-auto"},dm={__name:"ProductDeteilView",setup(t){const e=ar(),s=ee(e.params.id);return console.log("id:",e.params.id),(r,n)=>(Q(),Z(be,null,[U("div",cm,[U("h1",um,"ProductDetailView id:"+Wt(s.value),1)]),n[0]||(n[0]=hi('<div class="flex justify-center max-md:flex-col w-full gap-x-[24px] py-5"><div class="max-w-[726px] max-md:w-full"><ul class="grid grid-cols-2 gap-[8px] max-md:hidden"><li class="p-[56px] bg-gray-400"><img src="https://picsum.photos/257/257"></li><li class="p-[56px] bg-gray-400"><img src="https://picsum.photos/257/257"></li><li class="p-[56px] bg-gray-400"><img src="https://picsum.photos/257/257"></li></ul><ul class="grid grid-cols-1 gap-[8px] md:hidden w-full"><li class="bg-gray-400 w-full"><img class="w-full object-cover block" src="https://picsum.photos/500/500"></li></ul></div><div class="max-w-[526px] max-md:w-full flex flex-col gap-y-[32px]"><section class="flex flex-col gap-y-[16px]"><div><div class="nav flex gap-x-[12px]"><span class="text-[#6C757D]"> 首頁 </span><span class="text-[#6C757D]"> / </span><span class="text-[#6C757D]"> 女鞋 </span><span class="text-[#6C757D]"> / </span><span class="text-[#6C757D]"> 滑板鞋 </span><span class="text-[#6C757D]"> / </span><span class="text-[#212529]"> Platform 404 </span></div><div class="title font-[700] text-[32px] leading-[120%] text-[#212529]"> Platform 404 </div></div><div class="price flex gap-x-[8px]"><div class="sale font-[700] text-[20px] leading-[120%] text-[#57A203]">NT$2,600 </div><div class="original font-[400] text-[14px] leading-[150%] text-[#ADB5BD]"><del> NT$3,200 </del></div></div><div class="flex flex-col gap-y-[12px]"><div class=""> Platform 404 以柔和奶白為底，搭配深藍色皮革點綴，走在街上自帶回頭率。鞋型採用復古運動風輪廓，結合輕量厚底與柔軟泡棉鞋舌，兼顧美感與舒適。 </div><div class=""> 鞋身選用柔軟皮革材質，打造出清新卻不失個性的氛圍，並以鞋面透氣孔設計提升穿著體驗，兼顧質感與舒適度，適合日常長時間著用。無論是街頭穿搭、日常通勤或週末出遊都能輕鬆駕馭。 </div></div></section><div class="flex flex-col gap-y-[32px]"><div class="flex flex-col gap-y-[8px]"><div>顏色</div><div class="flex gap-x-[8px]"><div><div><img src="https://picsum.photos/64/64" alt=""></div><div class="text-[#6C757D]">藍色</div></div><div><div><img src="https://picsum.photos/64/64" alt=""></div><div class="text-[#6C757D]">卡其色</div></div></div></div><div class="flex flex-col gap-y-[8px]"><div>尺寸</div><div class="grid grid-cols-3 max-md:grid-cols-2 gap-[8px]"><div class="py-[12px] px-[24px] text-center border border-[#DEE2E6]">35(22.5cm)</div><div class="py-[12px] px-[24px] text-center border border-[#DEE2E6]">35(22.5cm)</div><div class="py-[12px] px-[24px] text-center border border-[#DEE2E6]">35(22.5cm)</div><div class="py-[12px] px-[24px] text-center border border-[#DEE2E6]">35(22.5cm)</div><div class="py-[12px] px-[24px] text-center border border-[#DEE2E6] text-[#DEE2E6]">35(22.5cm) </div></div><div class="text-[#D74F4F] font-[400]">僅剩 3 雙</div></div></div><div class="flex gap-x-[8px]"><div class="w-[255px] h-[48px] flex justify-center items-center text-[#212529] border border-[#212529]"> 加入收藏</div><div class="w-[255px] h-[48px] flex justify-center items-center bg-[#212529] text-[#ffffff]">門市預約試穿 </div></div><section></section><section class=""><div class="flex flex-col gap-y-[4px] py-[12px]"><div>商品材質</div><div><p class="font-[400] text-[#6C757D]">鞋面：合成皮革（Synthetic Leather）</p><p class="font-[400] text-[#6C757D]">內裡：透氣網布材質，提升舒適與排汗性</p><p class="font-[400] text-[#6C757D]">鞋底：EVA 輕量發泡橡膠，具備良好緩震與止滑效果</p><p class="font-[400] text-[#6C757D]">鞋帶：聚酯纖維，耐拉扯不易鬆脫</p></div></div><div class="flex flex-col gap-y-[4px] py-[12px]"><div>購買須知</div><div><p class="font-[400] text-[#6C757D]">商品顏色因螢幕顯示可能略有差異，請以實品為準。</p><p class="font-[400] text-[#6C757D]">建議首次穿著前試穿確認尺寸，避免影響退換貨權益。</p><p class="font-[400] text-[#6C757D]">本商品為限量發售，庫存有限，如需更換尺寸請儘早聯繫客服協助處理。</p></div></div><div class="flex flex-col gap-y-[4px] py-[12px]"><div>保養方式</div><div><p class="font-[400] text-[#6C757D]">建議以乾布或微濕軟布擦拭表面汙漬，避免機洗或長時間浸水。</p><p class="font-[400] text-[#6C757D]">收納時請放置於乾燥通風處，避免日曬及高溫導致變形或龜裂。</p><p class="font-[400] text-[#6C757D]">若需深層清潔，建議使用中性清潔劑並搭配柔刷輕刷，勿使用漂白水或強酸強鹼清潔劑。</p></div></div></section></div></div>',1))],64))}},hm={},fm={class:"flex justify-center"},pm={class:"flex gap-x-5 mb-[60px]"};function gm(t,e){const s=ws("router-link");return Q(),Z("div",fm,[U("div",pm,[X(s,{to:"/product/women/all",class:it(["inline-flex items-center gap-2 px-[40px] py-[20px] border-[1px] border-gray-300 rounded-full text-lg font-medium transition-colors duration-150",t.$route.path.includes("/product/women")?"bg-green-600 text-white shadow":"bg-white text-gray-700 hover:bg-gray-100"])},{default:ke(()=>[...e[0]||(e[0]=[ge(" 女鞋 ",-1)])]),_:1},8,["class"]),X(s,{to:"/product/men/all",class:it(["inline-flex items-center gap-2 px-[40px] py-[20px] border-[1px] border-gray-300 rounded-full text-lg font-medium transition-colors duration-150",t.$route.path.includes("/product/men")?"bg-green-600 text-white shadow":"bg-white text-gray-700 hover:bg-gray-100"])},{default:ke(()=>[...e[1]||(e[1]=[ge(" 男鞋 ",-1)])]),_:1},8,["class"])])])}const mm=or(hm,[["render",gm]]),vm=[{path:"/",name:"Index",component:Th,meta:{title:"首頁"}},{path:"/test",name:"Test",component:_g,meta:{title:"測試頁"}},{path:"/product",name:"productListView",component:mm,meta:{title:"商品頁"}},{path:"/product/:sex/:category",name:"ProductCategory",component:em,meta:{title:"商品分類"}},{path:"/productDeteil/:id",name:"ProductDeteil",component:dm,meta:{title:"商品詳細頁"}},{path:"/create",name:"Create",component:nm,meta:{title:"新增產品頁"}},{path:"/story",name:"Story",component:lm,meta:{title:"品牌故事"}}],xi=Eh({history:Xd("hex_supabase"),routes:vm});function _m(t){const e=t.params.sex??"",s=t.params.category??"",r=decodeURIComponent(String(e)).toLowerCase(),n=decodeURIComponent(String(s)).toLowerCase(),i={women:"女鞋",men:"男鞋",woman:"女鞋",man:"男鞋",女:"女鞋",男:"男鞋"},o={all:"所有產品",running:"慢跑",loafers:"後底",skateboarding:"滑板",limited:"限定 / 聯名",慢跑:"慢跑",滑板:"滑板"},a=i[r]||i[e]||(r?`${e}鞋`:""),l=o[n]||o[s]||n||"",u=[];return l&&u.push(l),a&&u.push(a),{title:u.join(" - "),categoryText:l,sexText:a}}xi.afterEach(t=>{try{const e=typeof t.params?.sex<"u"&&typeof t.params?.category<"u";if(t.name==="ProductCategory"||e){const{title:s,sexText:r,categoryText:n}=_m(t),i=s||t.meta?.title||"商品頁";console.debug("[router.afterEach]",{name:t.name,params:t.params,sexText:r,categoryText:n,finalTitle:i}),document.title=i,t.meta={...t.meta||{},title:i}}else document.title=t.meta?.title||"Hex"}catch(e){console.warn("failed to set document.title",e)}});td(wd).use(xi).mount("#app");xi.afterEach(t=>{t.meta.title&&(document.title=t.meta.title)});
